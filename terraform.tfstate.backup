{
    "version": 3,
    "terraform_version": "0.11.9",
    "serial": 164,
    "lineage": "e3076105-6cb3-cbb8-3900-a3ddb3b1b134",
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {
                "GitLab One-Time DB Creation Command - Primary Only": {
                    "sensitive": false,
                    "type": "string",
                    "value": "force=yes; export force; gitlab-rake gitlab:setup"
                },
                "GitLab One-Time DB Creation Command - Primary Only (2)": {
                    "sensitive": false,
                    "type": "string",
                    "value": "sudo gitlab-ctl reconfigure"
                },
                "GitLab Run one time on each secondary instance": {
                    "sensitive": false,
                    "type": "string",
                    "value": "Configure shared secrets. These values can be obtained from the primary GitLab server in /etc/gitlab/gitlab-secrets.json. Copy this file to the secondary servers prior to running the first reconfigure in the steps above"
                },
                "GitLab Run one time on each secondary instance (2)": {
                    "sensitive": false,
                    "type": "string",
                    "value": "touch /etc/gitlab/skip-auto-reconfigure"
                },
                "Load Balancer Public IP": {
                    "sensitive": false,
                    "type": "string",
                    "value": "private-apps-alb-1162311394.us-east-2.elb.amazonaws.com"
                },
                "bastion_pub_ip": {
                    "sensitive": false,
                    "type": "string",
                    "value": "18.188.229.104"
                },
                "gitlab_postgres_address": {
                    "sensitive": false,
                    "type": "string",
                    "value": "gitlab.cfd9xauwm5fs.us-east-2.rds.amazonaws.com"
                },
                "gitlab_redis_endpoint_address": {
                    "sensitive": false,
                    "type": "string",
                    "value": "gitlab.e9ty4i.ng.0001.use2.cache.amazonaws.com"
                }
            },
            "resources": {
                "aws_autoscaling_group.git": {
                    "type": "aws_autoscaling_group",
                    "depends_on": [
                        "aws_db_instance.gitlab_postgres",
                        "aws_efs_mount_target.git-builds-priv1",
                        "aws_efs_mount_target.git-builds-priv2",
                        "aws_efs_mount_target.git-data-priv1",
                        "aws_efs_mount_target.git-data-priv2",
                        "aws_efs_mount_target.git-rails-shared-priv1",
                        "aws_efs_mount_target.git-rails-shared-priv2",
                        "aws_efs_mount_target.git-rails-uploads-priv1",
                        "aws_efs_mount_target.git-rails-uploads-priv2",
                        "aws_efs_mount_target.git-ssh-priv1",
                        "aws_efs_mount_target.git-ssh-priv2",
                        "aws_launch_configuration.git",
                        "aws_lb_target_group.git-80",
                        "aws_subnet.private-subnet",
                        "aws_subnet.private-subnet2"
                    ],
                    "primary": {
                        "id": "git",
                        "attributes": {
                            "arn": "arn:aws:autoscaling:us-east-2:549902048605:autoScalingGroup:85d87f52-8866-4f57-a9ba-bc00d78a4ebc:autoScalingGroupName/git",
                            "availability_zones.#": "2",
                            "availability_zones.1726430690": "us-east-2b",
                            "availability_zones.4293815384": "us-east-2a",
                            "default_cooldown": "300",
                            "desired_capacity": "2",
                            "enabled_metrics.#": "0",
                            "force_delete": "false",
                            "health_check_grace_period": "300",
                            "health_check_type": "EC2",
                            "id": "git",
                            "launch_configuration": "git-20181219132834876100000004",
                            "launch_template.#": "0",
                            "load_balancers.#": "0",
                            "max_size": "2",
                            "metrics_granularity": "1Minute",
                            "min_size": "2",
                            "mixed_instances_policy.#": "0",
                            "name": "git",
                            "placement_group": "",
                            "protect_from_scale_in": "false",
                            "service_linked_role_arn": "arn:aws:iam::549902048605:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling",
                            "suspended_processes.#": "0",
                            "tag.#": "1",
                            "tag.1263492020.key": "Name",
                            "tag.1263492020.propagate_at_launch": "true",
                            "tag.1263492020.value": "gitlab",
                            "target_group_arns.#": "1",
                            "target_group_arns.4179119881": "arn:aws:elasticloadbalancing:us-east-2:549902048605:targetgroup/git-80/4b24d8caa9a69c1e",
                            "termination_policies.#": "0",
                            "vpc_zone_identifier.#": "2",
                            "vpc_zone_identifier.1387461641": "subnet-0a7775a27c33ed754",
                            "vpc_zone_identifier.3444150201": "subnet-06f4b17a982dfe532",
                            "wait_for_capacity_timeout": "10m"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "delete": 600000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_autoscaling_group.jenkins-slave": {
                    "type": "aws_autoscaling_group",
                    "depends_on": [
                        "aws_launch_configuration.jenkins-slave",
                        "aws_lb_target_group.jenkins-slave-8080",
                        "aws_subnet.private-subnet",
                        "aws_subnet.private-subnet2"
                    ],
                    "primary": {
                        "id": "jenkins-slave",
                        "attributes": {
                            "arn": "arn:aws:autoscaling:us-east-2:549902048605:autoScalingGroup:d66b8578-c079-420b-96e6-5b647815d8a2:autoScalingGroupName/jenkins-slave",
                            "availability_zones.#": "2",
                            "availability_zones.1726430690": "us-east-2b",
                            "availability_zones.4293815384": "us-east-2a",
                            "default_cooldown": "300",
                            "desired_capacity": "2",
                            "enabled_metrics.#": "0",
                            "force_delete": "false",
                            "health_check_grace_period": "300",
                            "health_check_type": "EC2",
                            "id": "jenkins-slave",
                            "launch_configuration": "jenkins-slave-20181219132317707800000002",
                            "launch_template.#": "0",
                            "load_balancers.#": "0",
                            "max_size": "2",
                            "metrics_granularity": "1Minute",
                            "min_size": "1",
                            "mixed_instances_policy.#": "0",
                            "name": "jenkins-slave",
                            "placement_group": "",
                            "protect_from_scale_in": "false",
                            "service_linked_role_arn": "arn:aws:iam::549902048605:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling",
                            "suspended_processes.#": "0",
                            "tag.#": "1",
                            "tag.304084015.key": "Name",
                            "tag.304084015.propagate_at_launch": "true",
                            "tag.304084015.value": "jenkins-slave",
                            "target_group_arns.#": "1",
                            "target_group_arns.1563843226": "arn:aws:elasticloadbalancing:us-east-2:549902048605:targetgroup/jenkins-slave-8080/3c4c158c4b85bd95",
                            "termination_policies.#": "0",
                            "vpc_zone_identifier.#": "2",
                            "vpc_zone_identifier.1387461641": "subnet-0a7775a27c33ed754",
                            "vpc_zone_identifier.3444150201": "subnet-06f4b17a982dfe532",
                            "wait_for_capacity_timeout": "10m"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "delete": 600000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_db_instance.gitlab_postgres": {
                    "type": "aws_db_instance",
                    "depends_on": [
                        "aws_db_subnet_group.default",
                        "aws_security_group.sg_db"
                    ],
                    "primary": {
                        "id": "gitlab",
                        "attributes": {
                            "address": "gitlab.cfd9xauwm5fs.us-east-2.rds.amazonaws.com",
                            "allocated_storage": "50",
                            "arn": "arn:aws:rds:us-east-2:549902048605:db:gitlab",
                            "auto_minor_version_upgrade": "true",
                            "availability_zone": "us-east-2b",
                            "backup_retention_period": "0",
                            "backup_window": "09:33-10:03",
                            "ca_cert_identifier": "rds-ca-2015",
                            "copy_tags_to_snapshot": "false",
                            "db_subnet_group_name": "main-subnet-group",
                            "deletion_protection": "false",
                            "domain": "",
                            "domain_iam_role_name": "",
                            "enabled_cloudwatch_logs_exports.#": "0",
                            "endpoint": "gitlab.cfd9xauwm5fs.us-east-2.rds.amazonaws.com:5432",
                            "engine": "postgres",
                            "engine_version": "10.4",
                            "hosted_zone_id": "Z2XHWR1WZ565X2",
                            "iam_database_authentication_enabled": "false",
                            "id": "gitlab",
                            "identifier": "gitlab",
                            "instance_class": "db.m4.large",
                            "iops": "0",
                            "kms_key_id": "",
                            "license_model": "postgresql-license",
                            "maintenance_window": "mon:08:27-mon:08:57",
                            "monitoring_interval": "0",
                            "multi_az": "false",
                            "name": "gitlab",
                            "option_group_name": "default:postgres-10",
                            "parameter_group_name": "default.postgres10",
                            "password": "supersecret",
                            "port": "5432",
                            "publicly_accessible": "false",
                            "replicas.#": "0",
                            "replicate_source_db": "",
                            "resource_id": "db-MKRCG7EPY7GNJX7STZ22V7X62M",
                            "security_group_names.#": "0",
                            "skip_final_snapshot": "true",
                            "status": "available",
                            "storage_encrypted": "false",
                            "storage_type": "gp2",
                            "tags.%": "0",
                            "timezone": "",
                            "username": "gitlab",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.1273776544": "sg-049cdabce76a1236d"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 2400000000000,
                                "delete": 2400000000000,
                                "update": 4800000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_db_subnet_group.default": {
                    "type": "aws_db_subnet_group",
                    "depends_on": [
                        "aws_subnet.private-db-subnet",
                        "aws_subnet.private-db-subnet2"
                    ],
                    "primary": {
                        "id": "main-subnet-group",
                        "attributes": {
                            "arn": "arn:aws:rds:us-east-2:549902048605:subgrp:main-subnet-group",
                            "description": "Managed by Terraform",
                            "id": "main-subnet-group",
                            "name": "main-subnet-group",
                            "subnet_ids.#": "2",
                            "subnet_ids.1656701707": "subnet-07c90167d23d18ad2",
                            "subnet_ids.864894211": "subnet-057c9645859b6ac7a",
                            "tags.%": "1",
                            "tags.Name": "DB Subnet Group"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_efs_file_system.git-builds": {
                    "type": "aws_efs_file_system",
                    "depends_on": [
                        "aws_kms_key.git-kms"
                    ],
                    "primary": {
                        "id": "fs-0490127d",
                        "attributes": {
                            "arn": "arn:aws:elasticfilesystem:us-east-2:549902048605:file-system/fs-0490127d",
                            "creation_token": "git-builds-efs",
                            "dns_name": "fs-0490127d.efs.us-east-2.amazonaws.com",
                            "encrypted": "true",
                            "id": "fs-0490127d",
                            "kms_key_id": "arn:aws:kms:us-east-2:549902048605:key/d93c1572-abb2-4f80-985e-893f1bc551c7",
                            "performance_mode": "generalPurpose",
                            "provisioned_throughput_in_mibps": "0",
                            "tags.%": "1",
                            "tags.Name": "git-builds-efs",
                            "throughput_mode": "bursting"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_efs_file_system.git-data": {
                    "type": "aws_efs_file_system",
                    "depends_on": [
                        "aws_kms_key.git-kms"
                    ],
                    "primary": {
                        "id": "fs-f9901280",
                        "attributes": {
                            "arn": "arn:aws:elasticfilesystem:us-east-2:549902048605:file-system/fs-f9901280",
                            "creation_token": "git-data-efs",
                            "dns_name": "fs-f9901280.efs.us-east-2.amazonaws.com",
                            "encrypted": "true",
                            "id": "fs-f9901280",
                            "kms_key_id": "arn:aws:kms:us-east-2:549902048605:key/d93c1572-abb2-4f80-985e-893f1bc551c7",
                            "performance_mode": "generalPurpose",
                            "provisioned_throughput_in_mibps": "0",
                            "tags.%": "1",
                            "tags.Name": "git-data-efs",
                            "throughput_mode": "bursting"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_efs_file_system.git-rails-shared": {
                    "type": "aws_efs_file_system",
                    "depends_on": [
                        "aws_kms_key.git-kms"
                    ],
                    "primary": {
                        "id": "fs-0690127f",
                        "attributes": {
                            "arn": "arn:aws:elasticfilesystem:us-east-2:549902048605:file-system/fs-0690127f",
                            "creation_token": "git-rails-shared-efs",
                            "dns_name": "fs-0690127f.efs.us-east-2.amazonaws.com",
                            "encrypted": "true",
                            "id": "fs-0690127f",
                            "kms_key_id": "arn:aws:kms:us-east-2:549902048605:key/d93c1572-abb2-4f80-985e-893f1bc551c7",
                            "performance_mode": "generalPurpose",
                            "provisioned_throughput_in_mibps": "0",
                            "tags.%": "1",
                            "tags.Name": "git-rails-shared",
                            "throughput_mode": "bursting"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_efs_file_system.git-rails-uploads": {
                    "type": "aws_efs_file_system",
                    "depends_on": [
                        "aws_kms_key.git-kms"
                    ],
                    "primary": {
                        "id": "fs-0790127e",
                        "attributes": {
                            "arn": "arn:aws:elasticfilesystem:us-east-2:549902048605:file-system/fs-0790127e",
                            "creation_token": "git-rails-uploads-efs",
                            "dns_name": "fs-0790127e.efs.us-east-2.amazonaws.com",
                            "encrypted": "true",
                            "id": "fs-0790127e",
                            "kms_key_id": "arn:aws:kms:us-east-2:549902048605:key/d93c1572-abb2-4f80-985e-893f1bc551c7",
                            "performance_mode": "generalPurpose",
                            "provisioned_throughput_in_mibps": "0",
                            "tags.%": "1",
                            "tags.Name": "git-rails-uploads",
                            "throughput_mode": "bursting"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_efs_file_system.git-ssh": {
                    "type": "aws_efs_file_system",
                    "depends_on": [
                        "aws_kms_key.git-kms"
                    ],
                    "primary": {
                        "id": "fs-0590127c",
                        "attributes": {
                            "arn": "arn:aws:elasticfilesystem:us-east-2:549902048605:file-system/fs-0590127c",
                            "creation_token": "git-ssh-efs",
                            "dns_name": "fs-0590127c.efs.us-east-2.amazonaws.com",
                            "encrypted": "true",
                            "id": "fs-0590127c",
                            "kms_key_id": "arn:aws:kms:us-east-2:549902048605:key/d93c1572-abb2-4f80-985e-893f1bc551c7",
                            "performance_mode": "generalPurpose",
                            "provisioned_throughput_in_mibps": "0",
                            "tags.%": "1",
                            "tags.Name": "git-ssh",
                            "throughput_mode": "bursting"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_efs_file_system.jenkins": {
                    "type": "aws_efs_file_system",
                    "depends_on": [
                        "aws_kms_key.jenkins-kms"
                    ],
                    "primary": {
                        "id": "fs-0290127b",
                        "attributes": {
                            "arn": "arn:aws:elasticfilesystem:us-east-2:549902048605:file-system/fs-0290127b",
                            "creation_token": "jenkins-efs",
                            "dns_name": "fs-0290127b.efs.us-east-2.amazonaws.com",
                            "encrypted": "true",
                            "id": "fs-0290127b",
                            "kms_key_id": "arn:aws:kms:us-east-2:549902048605:key/5f1416fb-5693-4423-a650-12889cb9f1e4",
                            "performance_mode": "generalPurpose",
                            "provisioned_throughput_in_mibps": "0",
                            "tags.%": "1",
                            "tags.Name": "jenkins-efs",
                            "throughput_mode": "bursting"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_efs_mount_target.git-builds-priv1": {
                    "type": "aws_efs_mount_target",
                    "depends_on": [
                        "aws_efs_file_system.git-builds",
                        "aws_security_group.efs-general",
                        "aws_subnet.private-subnet"
                    ],
                    "primary": {
                        "id": "fsmt-1aac0d63",
                        "attributes": {
                            "dns_name": "fs-0490127d.efs.us-east-2.amazonaws.com",
                            "file_system_arn": "arn:aws:elasticfilesystem:us-east-2:549902048605:file-system/fs-0490127d",
                            "file_system_id": "fs-0490127d",
                            "id": "fsmt-1aac0d63",
                            "ip_address": "10.0.1.7",
                            "network_interface_id": "eni-00973c5a2d2ce73ad",
                            "security_groups.#": "1",
                            "security_groups.49060982": "sg-0c4655d9a894a3af3",
                            "subnet_id": "subnet-0a7775a27c33ed754"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_efs_mount_target.git-builds-priv2": {
                    "type": "aws_efs_mount_target",
                    "depends_on": [
                        "aws_efs_file_system.git-builds",
                        "aws_security_group.efs-general",
                        "aws_subnet.private-subnet2"
                    ],
                    "primary": {
                        "id": "fsmt-32ac0d4b",
                        "attributes": {
                            "dns_name": "fs-0490127d.efs.us-east-2.amazonaws.com",
                            "file_system_arn": "arn:aws:elasticfilesystem:us-east-2:549902048605:file-system/fs-0490127d",
                            "file_system_id": "fs-0490127d",
                            "id": "fsmt-32ac0d4b",
                            "ip_address": "10.0.1.198",
                            "network_interface_id": "eni-034d274982eb8329b",
                            "security_groups.#": "1",
                            "security_groups.49060982": "sg-0c4655d9a894a3af3",
                            "subnet_id": "subnet-06f4b17a982dfe532"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_efs_mount_target.git-data-priv1": {
                    "type": "aws_efs_mount_target",
                    "depends_on": [
                        "aws_efs_file_system.git-data",
                        "aws_security_group.efs-general",
                        "aws_subnet.private-subnet"
                    ],
                    "primary": {
                        "id": "fsmt-30ac0d49",
                        "attributes": {
                            "dns_name": "fs-f9901280.efs.us-east-2.amazonaws.com",
                            "file_system_arn": "arn:aws:elasticfilesystem:us-east-2:549902048605:file-system/fs-f9901280",
                            "file_system_id": "fs-f9901280",
                            "id": "fsmt-30ac0d49",
                            "ip_address": "10.0.1.78",
                            "network_interface_id": "eni-051df1a58bf00305b",
                            "security_groups.#": "1",
                            "security_groups.49060982": "sg-0c4655d9a894a3af3",
                            "subnet_id": "subnet-0a7775a27c33ed754"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_efs_mount_target.git-data-priv2": {
                    "type": "aws_efs_mount_target",
                    "depends_on": [
                        "aws_efs_file_system.git-data",
                        "aws_security_group.efs-general",
                        "aws_subnet.private-subnet2"
                    ],
                    "primary": {
                        "id": "fsmt-25ac0d5c",
                        "attributes": {
                            "dns_name": "fs-f9901280.efs.us-east-2.amazonaws.com",
                            "file_system_arn": "arn:aws:elasticfilesystem:us-east-2:549902048605:file-system/fs-f9901280",
                            "file_system_id": "fs-f9901280",
                            "id": "fsmt-25ac0d5c",
                            "ip_address": "10.0.1.191",
                            "network_interface_id": "eni-015b1f9fd72115db3",
                            "security_groups.#": "1",
                            "security_groups.49060982": "sg-0c4655d9a894a3af3",
                            "subnet_id": "subnet-06f4b17a982dfe532"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_efs_mount_target.git-rails-shared-priv1": {
                    "type": "aws_efs_mount_target",
                    "depends_on": [
                        "aws_efs_file_system.git-rails-shared",
                        "aws_security_group.efs-general",
                        "aws_subnet.private-subnet"
                    ],
                    "primary": {
                        "id": "fsmt-1dac0d64",
                        "attributes": {
                            "dns_name": "fs-0690127f.efs.us-east-2.amazonaws.com",
                            "file_system_arn": "arn:aws:elasticfilesystem:us-east-2:549902048605:file-system/fs-0690127f",
                            "file_system_id": "fs-0690127f",
                            "id": "fsmt-1dac0d64",
                            "ip_address": "10.0.1.33",
                            "network_interface_id": "eni-0bf01abb23be9561e",
                            "security_groups.#": "1",
                            "security_groups.49060982": "sg-0c4655d9a894a3af3",
                            "subnet_id": "subnet-0a7775a27c33ed754"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_efs_mount_target.git-rails-shared-priv2": {
                    "type": "aws_efs_mount_target",
                    "depends_on": [
                        "aws_efs_file_system.git-rails-shared",
                        "aws_security_group.efs-general",
                        "aws_subnet.private-subnet2"
                    ],
                    "primary": {
                        "id": "fsmt-31ac0d48",
                        "attributes": {
                            "dns_name": "fs-0690127f.efs.us-east-2.amazonaws.com",
                            "file_system_arn": "arn:aws:elasticfilesystem:us-east-2:549902048605:file-system/fs-0690127f",
                            "file_system_id": "fs-0690127f",
                            "id": "fsmt-31ac0d48",
                            "ip_address": "10.0.1.153",
                            "network_interface_id": "eni-0be2446074f2fdd64",
                            "security_groups.#": "1",
                            "security_groups.49060982": "sg-0c4655d9a894a3af3",
                            "subnet_id": "subnet-06f4b17a982dfe532"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_efs_mount_target.git-rails-uploads-priv1": {
                    "type": "aws_efs_mount_target",
                    "depends_on": [
                        "aws_efs_file_system.git-rails-uploads",
                        "aws_security_group.efs-general",
                        "aws_subnet.private-subnet"
                    ],
                    "primary": {
                        "id": "fsmt-1bac0d62",
                        "attributes": {
                            "dns_name": "fs-0790127e.efs.us-east-2.amazonaws.com",
                            "file_system_arn": "arn:aws:elasticfilesystem:us-east-2:549902048605:file-system/fs-0790127e",
                            "file_system_id": "fs-0790127e",
                            "id": "fsmt-1bac0d62",
                            "ip_address": "10.0.1.14",
                            "network_interface_id": "eni-08244a35ce9471d22",
                            "security_groups.#": "1",
                            "security_groups.49060982": "sg-0c4655d9a894a3af3",
                            "subnet_id": "subnet-0a7775a27c33ed754"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_efs_mount_target.git-rails-uploads-priv2": {
                    "type": "aws_efs_mount_target",
                    "depends_on": [
                        "aws_efs_file_system.git-rails-uploads",
                        "aws_security_group.efs-general",
                        "aws_subnet.private-subnet2"
                    ],
                    "primary": {
                        "id": "fsmt-29ac0d50",
                        "attributes": {
                            "dns_name": "fs-0790127e.efs.us-east-2.amazonaws.com",
                            "file_system_arn": "arn:aws:elasticfilesystem:us-east-2:549902048605:file-system/fs-0790127e",
                            "file_system_id": "fs-0790127e",
                            "id": "fsmt-29ac0d50",
                            "ip_address": "10.0.1.220",
                            "network_interface_id": "eni-0f78d6ce30e312ad9",
                            "security_groups.#": "1",
                            "security_groups.49060982": "sg-0c4655d9a894a3af3",
                            "subnet_id": "subnet-06f4b17a982dfe532"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_efs_mount_target.git-ssh-priv1": {
                    "type": "aws_efs_mount_target",
                    "depends_on": [
                        "aws_efs_file_system.git-ssh",
                        "aws_security_group.efs-general",
                        "aws_subnet.private-subnet"
                    ],
                    "primary": {
                        "id": "fsmt-35ac0d4c",
                        "attributes": {
                            "dns_name": "fs-0590127c.efs.us-east-2.amazonaws.com",
                            "file_system_arn": "arn:aws:elasticfilesystem:us-east-2:549902048605:file-system/fs-0590127c",
                            "file_system_id": "fs-0590127c",
                            "id": "fsmt-35ac0d4c",
                            "ip_address": "10.0.1.16",
                            "network_interface_id": "eni-07c2467a7d0c26012",
                            "security_groups.#": "1",
                            "security_groups.49060982": "sg-0c4655d9a894a3af3",
                            "subnet_id": "subnet-0a7775a27c33ed754"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_efs_mount_target.git-ssh-priv2": {
                    "type": "aws_efs_mount_target",
                    "depends_on": [
                        "aws_efs_file_system.git-ssh",
                        "aws_security_group.efs-general",
                        "aws_subnet.private-subnet2"
                    ],
                    "primary": {
                        "id": "fsmt-3eac0d47",
                        "attributes": {
                            "dns_name": "fs-0590127c.efs.us-east-2.amazonaws.com",
                            "file_system_arn": "arn:aws:elasticfilesystem:us-east-2:549902048605:file-system/fs-0590127c",
                            "file_system_id": "fs-0590127c",
                            "id": "fsmt-3eac0d47",
                            "ip_address": "10.0.1.205",
                            "network_interface_id": "eni-0d51fb2fe2fee18cb",
                            "security_groups.#": "1",
                            "security_groups.49060982": "sg-0c4655d9a894a3af3",
                            "subnet_id": "subnet-06f4b17a982dfe532"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_efs_mount_target.jenkins-master-priv1": {
                    "type": "aws_efs_mount_target",
                    "depends_on": [
                        "aws_efs_file_system.jenkins",
                        "aws_security_group.efs-general",
                        "aws_subnet.private-subnet"
                    ],
                    "primary": {
                        "id": "fsmt-33ac0d4a",
                        "attributes": {
                            "dns_name": "fs-0290127b.efs.us-east-2.amazonaws.com",
                            "file_system_arn": "arn:aws:elasticfilesystem:us-east-2:549902048605:file-system/fs-0290127b",
                            "file_system_id": "fs-0290127b",
                            "id": "fsmt-33ac0d4a",
                            "ip_address": "10.0.1.51",
                            "network_interface_id": "eni-0bda532f8c4b1b0cc",
                            "security_groups.#": "1",
                            "security_groups.49060982": "sg-0c4655d9a894a3af3",
                            "subnet_id": "subnet-0a7775a27c33ed754"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_efs_mount_target.jenkins-master-priv2": {
                    "type": "aws_efs_mount_target",
                    "depends_on": [
                        "aws_efs_file_system.jenkins",
                        "aws_security_group.efs-general",
                        "aws_subnet.private-subnet2"
                    ],
                    "primary": {
                        "id": "fsmt-34ac0d4d",
                        "attributes": {
                            "dns_name": "fs-0290127b.efs.us-east-2.amazonaws.com",
                            "file_system_arn": "arn:aws:elasticfilesystem:us-east-2:549902048605:file-system/fs-0290127b",
                            "file_system_id": "fs-0290127b",
                            "id": "fsmt-34ac0d4d",
                            "ip_address": "10.0.1.181",
                            "network_interface_id": "eni-0366c4a08487754db",
                            "security_groups.#": "1",
                            "security_groups.49060982": "sg-0c4655d9a894a3af3",
                            "subnet_id": "subnet-06f4b17a982dfe532"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_eip.eip_Nat": {
                    "type": "aws_eip",
                    "depends_on": [],
                    "primary": {
                        "id": "eipalloc-089507d1aac1a9722",
                        "attributes": {
                            "association_id": "",
                            "domain": "vpc",
                            "id": "eipalloc-089507d1aac1a9722",
                            "instance": "",
                            "network_interface": "",
                            "private_ip": "",
                            "public_ip": "3.16.254.138",
                            "public_ipv4_pool": "amazon",
                            "tags.%": "0",
                            "vpc": "true"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "delete": 180000000000,
                                "read": 900000000000,
                                "update": 300000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_elasticache_replication_group.gitlab_redis": {
                    "type": "aws_elasticache_replication_group",
                    "depends_on": [
                        "aws_elasticache_subnet_group.gitlab_redis",
                        "aws_security_group.sg_redis"
                    ],
                    "primary": {
                        "id": "gitlab",
                        "attributes": {
                            "at_rest_encryption_enabled": "false",
                            "auth_token": "",
                            "auto_minor_version_upgrade": "true",
                            "automatic_failover_enabled": "true",
                            "availability_zones.#": "2",
                            "availability_zones.1726430690": "us-east-2b",
                            "availability_zones.4293815384": "us-east-2a",
                            "cluster_mode.#": "0",
                            "engine": "redis",
                            "engine_version": "5.0.0",
                            "id": "gitlab",
                            "maintenance_window": "sun:06:00-sun:07:00",
                            "member_clusters.#": "2",
                            "member_clusters.2626462995": "gitlab-001",
                            "member_clusters.92665001": "gitlab-002",
                            "node_type": "cache.m4.large",
                            "number_cache_clusters": "2",
                            "parameter_group_name": "default.redis5.0",
                            "port": "6379",
                            "primary_endpoint_address": "gitlab.e9ty4i.ng.0001.use2.cache.amazonaws.com",
                            "replication_group_description": "Redis cluster powering GitLab",
                            "replication_group_id": "gitlab",
                            "security_group_ids.#": "1",
                            "security_group_ids.1750590345": "sg-00d9a6d87840a2987",
                            "security_group_names.#": "0",
                            "snapshot_retention_limit": "0",
                            "snapshot_window": "02:00-03:00",
                            "subnet_group_name": "gitlab-redis-subnet-group",
                            "transit_encryption_enabled": "false"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 3600000000000,
                                "delete": 2400000000000,
                                "update": 2400000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_elasticache_subnet_group.gitlab_redis": {
                    "type": "aws_elasticache_subnet_group",
                    "depends_on": [
                        "aws_subnet.private-subnet",
                        "aws_subnet.private-subnet2"
                    ],
                    "primary": {
                        "id": "gitlab-redis-subnet-group",
                        "attributes": {
                            "description": "Managed by Terraform",
                            "id": "gitlab-redis-subnet-group",
                            "name": "gitlab-redis-subnet-group",
                            "subnet_ids.#": "2",
                            "subnet_ids.1387461641": "subnet-0a7775a27c33ed754",
                            "subnet_ids.3444150201": "subnet-06f4b17a982dfe532"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_instance_profile.ec2-readonly-profile": {
                    "type": "aws_iam_instance_profile",
                    "depends_on": [
                        "aws_iam_role.ec2-readonly-role"
                    ],
                    "primary": {
                        "id": "ec2-readonly-profile",
                        "attributes": {
                            "arn": "arn:aws:iam::549902048605:instance-profile/ec2-readonly-profile",
                            "create_date": "2018-12-19T13:20:27Z",
                            "id": "ec2-readonly-profile",
                            "name": "ec2-readonly-profile",
                            "path": "/",
                            "role": "ec2-readonly-role",
                            "roles.#": "0",
                            "unique_id": "AIPAITINA6BRXXFI3UX3I"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role.ec2-readonly-role": {
                    "type": "aws_iam_role",
                    "depends_on": [],
                    "primary": {
                        "id": "ec2-readonly-role",
                        "attributes": {
                            "arn": "arn:aws:iam::549902048605:role/ec2-readonly-role",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2018-12-19T13:20:27Z",
                            "description": "",
                            "force_detach_policies": "false",
                            "id": "ec2-readonly-role",
                            "max_session_duration": "3600",
                            "name": "ec2-readonly-role",
                            "path": "/",
                            "tags.%": "0",
                            "unique_id": "AROAIGIX7YPSBI6LKQULY"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role_policy_attachment.attach-ec2-readonly-policy": {
                    "type": "aws_iam_role_policy_attachment",
                    "depends_on": [
                        "aws_iam_role.ec2-readonly-role",
                        "data.aws_iam_policy.ec2-readonly-policy"
                    ],
                    "primary": {
                        "id": "ec2-readonly-role-20181219132028479200000001",
                        "attributes": {
                            "id": "ec2-readonly-role-20181219132028479200000001",
                            "policy_arn": "arn:aws:iam::aws:policy/ReadOnlyAccess",
                            "role": "ec2-readonly-role"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_instance.bastion": {
                    "type": "aws_instance",
                    "depends_on": [
                        "aws_key_pair.default",
                        "aws_security_group.sgbastion",
                        "aws_subnet.public-subnet",
                        "data.aws_ami.rhel"
                    ],
                    "primary": {
                        "id": "i-02af232c2edfe7027",
                        "attributes": {
                            "ami": "ami-03291866",
                            "arn": "arn:aws:ec2:us-east-2:549902048605:instance/i-02af232c2edfe7027",
                            "associate_public_ip_address": "true",
                            "availability_zone": "us-east-2a",
                            "cpu_core_count": "1",
                            "cpu_threads_per_core": "2",
                            "credit_specification.#": "1",
                            "credit_specification.0.cpu_credits": "unlimited",
                            "disable_api_termination": "false",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "get_password_data": "false",
                            "iam_instance_profile": "",
                            "id": "i-02af232c2edfe7027",
                            "instance_state": "running",
                            "instance_type": "t3.micro",
                            "ipv6_addresses.#": "0",
                            "key_name": "ec2_key_pair",
                            "monitoring": "false",
                            "network_interface.#": "0",
                            "network_interface_id": "eni-0f3d41cd6ae2f738f",
                            "password_data": "",
                            "placement_group": "",
                            "primary_network_interface_id": "eni-0f3d41cd6ae2f738f",
                            "private_dns": "ip-10-0-0-35.us-east-2.compute.internal",
                            "private_ip": "10.0.0.35",
                            "public_dns": "ec2-18-188-229-104.us-east-2.compute.amazonaws.com",
                            "public_ip": "18.188.229.104",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "300",
                            "root_block_device.0.volume_id": "vol-00a24e3654e84c3b0",
                            "root_block_device.0.volume_size": "100",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "0",
                            "source_dest_check": "false",
                            "subnet_id": "subnet-04047072fe0f316d4",
                            "tags.%": "1",
                            "tags.Name": "bastion",
                            "tenancy": "default",
                            "user_data": "7df7f8e906e27b97bc12fe1256377584f4d60561",
                            "volume_tags.%": "0",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.3961137964": "sg-0ad5904123588de21"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 1200000000000,
                                "update": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_instance.jenkins": {
                    "type": "aws_instance",
                    "depends_on": [
                        "aws_efs_mount_target.jenkins-master-priv1",
                        "aws_efs_mount_target.jenkins-master-priv2",
                        "aws_iam_instance_profile.ec2-readonly-profile",
                        "aws_key_pair.default",
                        "aws_security_group.sg_jenkins",
                        "aws_subnet.private-subnet",
                        "data.aws_ami.rhel"
                    ],
                    "primary": {
                        "id": "i-0b4c8c97499fa62bc",
                        "attributes": {
                            "ami": "ami-03291866",
                            "arn": "arn:aws:ec2:us-east-2:549902048605:instance/i-0b4c8c97499fa62bc",
                            "associate_public_ip_address": "false",
                            "availability_zone": "us-east-2a",
                            "cpu_core_count": "1",
                            "cpu_threads_per_core": "2",
                            "credit_specification.#": "1",
                            "credit_specification.0.cpu_credits": "unlimited",
                            "disable_api_termination": "false",
                            "ebs_block_device.#": "1",
                            "ebs_block_device.2659407853.delete_on_termination": "true",
                            "ebs_block_device.2659407853.device_name": "/dev/sdf",
                            "ebs_block_device.2659407853.encrypted": "false",
                            "ebs_block_device.2659407853.iops": "150",
                            "ebs_block_device.2659407853.snapshot_id": "",
                            "ebs_block_device.2659407853.volume_id": "vol-0b82a5f81f086af44",
                            "ebs_block_device.2659407853.volume_size": "50",
                            "ebs_block_device.2659407853.volume_type": "gp2",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "get_password_data": "false",
                            "iam_instance_profile": "ec2-readonly-profile",
                            "id": "i-0b4c8c97499fa62bc",
                            "instance_state": "running",
                            "instance_type": "t3.medium",
                            "ipv6_addresses.#": "0",
                            "key_name": "ec2_key_pair",
                            "monitoring": "false",
                            "network_interface.#": "0",
                            "network_interface_id": "eni-0729d820240f1bbf5",
                            "password_data": "",
                            "placement_group": "",
                            "primary_network_interface_id": "eni-0729d820240f1bbf5",
                            "private_dns": "ip-10-0-1-45.us-east-2.compute.internal",
                            "private_ip": "10.0.1.45",
                            "public_dns": "",
                            "public_ip": "",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "150",
                            "root_block_device.0.volume_id": "vol-0bf4f00f22bcd983e",
                            "root_block_device.0.volume_size": "50",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "0",
                            "source_dest_check": "true",
                            "subnet_id": "subnet-0a7775a27c33ed754",
                            "tags.%": "1",
                            "tags.Name": "jenkins-master",
                            "tenancy": "default",
                            "user_data": "f60caccf516ef119010716325319d19fc98073ec",
                            "volume_tags.%": "0",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.4193365934": "sg-018e814cf8d5d1be4"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 1200000000000,
                                "update": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_internet_gateway.gw": {
                    "type": "aws_internet_gateway",
                    "depends_on": [
                        "aws_vpc.default"
                    ],
                    "primary": {
                        "id": "igw-0d5360e89f93caa80",
                        "attributes": {
                            "id": "igw-0d5360e89f93caa80",
                            "owner_id": "549902048605",
                            "tags.%": "1",
                            "tags.Name": "VPC IGW",
                            "vpc_id": "vpc-0d6bd6e91234e3977"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_key_pair.default": {
                    "type": "aws_key_pair",
                    "depends_on": [],
                    "primary": {
                        "id": "ec2_key_pair",
                        "attributes": {
                            "fingerprint": "3c:94:cc:c2:63:16:9b:93:ed:52:8a:e1:a8:3d:e8:9b",
                            "id": "ec2_key_pair",
                            "key_name": "ec2_key_pair",
                            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDFjVRCfLSPOFzTSp91d0mVeNeQL3Ue16pJXKi39gjjSKr6vcbvsDeMBv542Bjqz3ZHlNa96lNJ1rOMRhTZ/biSWAsJQDZf95Yi6RolInN3jLaLtlkSyXulhAhsLMX2P8RVof4WTnqUNDibH6+qk8vUQ9MVMhn6Jp3Cdq2V7+GZHE7dKepjA7HUoykdG6AeMtEOuFnPCvSayICNuGQDO1Ui8vPhCzcFBIz9oDfoK/b2JcuFdnPNon6+ug7cl9iQVEvgrr3BJ6Mi135S4FHm51vA1EhGFoL/89zvaTYjWIJ2wykIDRQzS8qzd9rx+YLe4ImmpC8W0VUMm0pcMQBNMk6n rcald@LAPTOP-M5LFKTF2"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_kms_key.git-kms": {
                    "type": "aws_kms_key",
                    "depends_on": [],
                    "primary": {
                        "id": "d93c1572-abb2-4f80-985e-893f1bc551c7",
                        "attributes": {
                            "arn": "arn:aws:kms:us-east-2:549902048605:key/d93c1572-abb2-4f80-985e-893f1bc551c7",
                            "description": "Encrypt data at rest in EFS",
                            "enable_key_rotation": "false",
                            "id": "d93c1572-abb2-4f80-985e-893f1bc551c7",
                            "is_enabled": "true",
                            "key_id": "d93c1572-abb2-4f80-985e-893f1bc551c7",
                            "key_usage": "ENCRYPT_DECRYPT",
                            "policy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":\"*\",\"Resource\":\"*\",\"Sid\":\"Enable IAM User Permissions\"}],\"Version\":\"2012-10-17\"}",
                            "tags.%": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_kms_key.jenkins-kms": {
                    "type": "aws_kms_key",
                    "depends_on": [],
                    "primary": {
                        "id": "5f1416fb-5693-4423-a650-12889cb9f1e4",
                        "attributes": {
                            "arn": "arn:aws:kms:us-east-2:549902048605:key/5f1416fb-5693-4423-a650-12889cb9f1e4",
                            "description": "Encrypt data at rest in EFS",
                            "enable_key_rotation": "false",
                            "id": "5f1416fb-5693-4423-a650-12889cb9f1e4",
                            "is_enabled": "true",
                            "key_id": "5f1416fb-5693-4423-a650-12889cb9f1e4",
                            "key_usage": "ENCRYPT_DECRYPT",
                            "policy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":\"*\",\"Resource\":\"*\",\"Sid\":\"Enable IAM User Permissions\"}],\"Version\":\"2012-10-17\"}",
                            "tags.%": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_launch_configuration.git": {
                    "type": "aws_launch_configuration",
                    "depends_on": [
                        "aws_iam_instance_profile.ec2-readonly-profile",
                        "aws_key_pair.default",
                        "aws_security_group.sg_git",
                        "data.aws_ami.amzn",
                        "data.template_cloudinit_config.config"
                    ],
                    "primary": {
                        "id": "git-20181219132834876100000004",
                        "attributes": {
                            "associate_public_ip_address": "false",
                            "ebs_block_device.#": "1",
                            "ebs_block_device.2288823920.delete_on_termination": "true",
                            "ebs_block_device.2288823920.device_name": "/dev/sdf",
                            "ebs_block_device.2288823920.encrypted": "false",
                            "ebs_block_device.2288823920.iops": "0",
                            "ebs_block_device.2288823920.no_device": "false",
                            "ebs_block_device.2288823920.snapshot_id": "",
                            "ebs_block_device.2288823920.volume_size": "50",
                            "ebs_block_device.2288823920.volume_type": "gp2",
                            "ebs_optimized": "false",
                            "enable_monitoring": "true",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "ec2-readonly-profile",
                            "id": "git-20181219132834876100000004",
                            "image_id": "ami-02e680c4540db351e",
                            "instance_type": "t3.medium",
                            "key_name": "ec2_key_pair",
                            "name": "git-20181219132834876100000004",
                            "name_prefix": "git-",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "0",
                            "root_block_device.0.volume_size": "50",
                            "root_block_device.0.volume_type": "",
                            "security_groups.#": "1",
                            "security_groups.2845242251": "sg-01b96411b8ea4ff98",
                            "spot_price": "",
                            "user_data": "fb6ec84661c40f59bc6d7614cfa6d75dea9a2fda",
                            "vpc_classic_link_id": "",
                            "vpc_classic_link_security_groups.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_launch_configuration.jenkins-slave": {
                    "type": "aws_launch_configuration",
                    "depends_on": [
                        "aws_key_pair.default",
                        "aws_security_group.sg_jenkins",
                        "data.aws_ami.rhel"
                    ],
                    "primary": {
                        "id": "jenkins-slave-20181219132317707800000002",
                        "attributes": {
                            "associate_public_ip_address": "false",
                            "ebs_block_device.#": "1",
                            "ebs_block_device.2288823920.delete_on_termination": "true",
                            "ebs_block_device.2288823920.device_name": "/dev/sdf",
                            "ebs_block_device.2288823920.encrypted": "false",
                            "ebs_block_device.2288823920.iops": "0",
                            "ebs_block_device.2288823920.no_device": "false",
                            "ebs_block_device.2288823920.snapshot_id": "",
                            "ebs_block_device.2288823920.volume_size": "50",
                            "ebs_block_device.2288823920.volume_type": "gp2",
                            "ebs_optimized": "false",
                            "enable_monitoring": "true",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "",
                            "id": "jenkins-slave-20181219132317707800000002",
                            "image_id": "ami-03291866",
                            "instance_type": "t3.medium",
                            "key_name": "ec2_key_pair",
                            "name": "jenkins-slave-20181219132317707800000002",
                            "name_prefix": "jenkins-slave-",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "0",
                            "root_block_device.0.volume_size": "50",
                            "root_block_device.0.volume_type": "",
                            "security_groups.#": "1",
                            "security_groups.4193365934": "sg-018e814cf8d5d1be4",
                            "spot_price": "",
                            "user_data": "19697974c4b6631814870b176b159f4a31f7a511",
                            "vpc_classic_link_id": "",
                            "vpc_classic_link_security_groups.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb.alb_apps": {
                    "type": "aws_lb",
                    "depends_on": [
                        "aws_security_group.sg_git",
                        "aws_security_group.sg_jenkins",
                        "aws_subnet.public-subnet",
                        "aws_subnet.public-subnet2"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-2:549902048605:loadbalancer/app/private-apps-alb/382e9ff8bb87a485",
                        "attributes": {
                            "access_logs.#": "0",
                            "arn": "arn:aws:elasticloadbalancing:us-east-2:549902048605:loadbalancer/app/private-apps-alb/382e9ff8bb87a485",
                            "arn_suffix": "app/private-apps-alb/382e9ff8bb87a485",
                            "dns_name": "private-apps-alb-1162311394.us-east-2.elb.amazonaws.com",
                            "enable_deletion_protection": "false",
                            "enable_http2": "true",
                            "id": "arn:aws:elasticloadbalancing:us-east-2:549902048605:loadbalancer/app/private-apps-alb/382e9ff8bb87a485",
                            "idle_timeout": "60",
                            "internal": "false",
                            "ip_address_type": "ipv4",
                            "load_balancer_type": "application",
                            "name": "private-apps-alb",
                            "security_groups.#": "2",
                            "security_groups.2845242251": "sg-01b96411b8ea4ff98",
                            "security_groups.4193365934": "sg-018e814cf8d5d1be4",
                            "subnet_mapping.#": "0",
                            "subnets.#": "2",
                            "subnets.2549454368": "subnet-0ece24f1519da9eda",
                            "subnets.678805375": "subnet-04047072fe0f316d4",
                            "tags.%": "1",
                            "tags.Environment": "dev",
                            "vpc_id": "vpc-0d6bd6e91234e3977",
                            "zone_id": "Z3AADJGX6KTTL2"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 600000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb.alb_jenkins_slave": {
                    "type": "aws_lb",
                    "depends_on": [
                        "aws_security_group.sg_jenkins",
                        "aws_subnet.public-subnet",
                        "aws_subnet.public-subnet2"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-2:549902048605:loadbalancer/app/jenkins-slave-alb/8035d439f98bf03a",
                        "attributes": {
                            "access_logs.#": "0",
                            "arn": "arn:aws:elasticloadbalancing:us-east-2:549902048605:loadbalancer/app/jenkins-slave-alb/8035d439f98bf03a",
                            "arn_suffix": "app/jenkins-slave-alb/8035d439f98bf03a",
                            "dns_name": "jenkins-slave-alb-868705185.us-east-2.elb.amazonaws.com",
                            "enable_deletion_protection": "false",
                            "enable_http2": "true",
                            "id": "arn:aws:elasticloadbalancing:us-east-2:549902048605:loadbalancer/app/jenkins-slave-alb/8035d439f98bf03a",
                            "idle_timeout": "60",
                            "internal": "false",
                            "ip_address_type": "ipv4",
                            "load_balancer_type": "application",
                            "name": "jenkins-slave-alb",
                            "security_groups.#": "1",
                            "security_groups.4193365934": "sg-018e814cf8d5d1be4",
                            "subnet_mapping.#": "0",
                            "subnets.#": "2",
                            "subnets.2549454368": "subnet-0ece24f1519da9eda",
                            "subnets.678805375": "subnet-04047072fe0f316d4",
                            "tags.%": "1",
                            "tags.Environment": "dev",
                            "vpc_id": "vpc-0d6bd6e91234e3977",
                            "zone_id": "Z3AADJGX6KTTL2"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 600000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener.git-80": {
                    "type": "aws_lb_listener",
                    "depends_on": [
                        "aws_lb.alb_apps",
                        "aws_lb_target_group.git-80"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-2:549902048605:listener/app/private-apps-alb/382e9ff8bb87a485/12995b02edf3d6cc",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-east-2:549902048605:listener/app/private-apps-alb/382e9ff8bb87a485/12995b02edf3d6cc",
                            "default_action.#": "1",
                            "default_action.0.authenticate_cognito.#": "0",
                            "default_action.0.authenticate_oidc.#": "0",
                            "default_action.0.fixed_response.#": "0",
                            "default_action.0.order": "1",
                            "default_action.0.redirect.#": "0",
                            "default_action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-2:549902048605:targetgroup/git-80/4b24d8caa9a69c1e",
                            "default_action.0.type": "forward",
                            "id": "arn:aws:elasticloadbalancing:us-east-2:549902048605:listener/app/private-apps-alb/382e9ff8bb87a485/12995b02edf3d6cc",
                            "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-2:549902048605:loadbalancer/app/private-apps-alb/382e9ff8bb87a485",
                            "port": "80",
                            "protocol": "HTTP",
                            "ssl_policy": ""
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "read": 600000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener.jenkins-8080": {
                    "type": "aws_lb_listener",
                    "depends_on": [
                        "aws_lb.alb_apps",
                        "aws_lb_target_group.jenkins-8080"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-2:549902048605:listener/app/private-apps-alb/382e9ff8bb87a485/234eae6ccbb0aabf",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-east-2:549902048605:listener/app/private-apps-alb/382e9ff8bb87a485/234eae6ccbb0aabf",
                            "default_action.#": "1",
                            "default_action.0.authenticate_cognito.#": "0",
                            "default_action.0.authenticate_oidc.#": "0",
                            "default_action.0.fixed_response.#": "0",
                            "default_action.0.order": "1",
                            "default_action.0.redirect.#": "0",
                            "default_action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-2:549902048605:targetgroup/jenkins-8080/0913eea7eea2305a",
                            "default_action.0.type": "forward",
                            "id": "arn:aws:elasticloadbalancing:us-east-2:549902048605:listener/app/private-apps-alb/382e9ff8bb87a485/234eae6ccbb0aabf",
                            "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-2:549902048605:loadbalancer/app/private-apps-alb/382e9ff8bb87a485",
                            "port": "8080",
                            "protocol": "HTTP",
                            "ssl_policy": ""
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "read": 600000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener.jenkins-slave-8080": {
                    "type": "aws_lb_listener",
                    "depends_on": [
                        "aws_lb.alb_jenkins_slave",
                        "aws_lb_target_group.jenkins-slave-8080"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-2:549902048605:listener/app/jenkins-slave-alb/8035d439f98bf03a/0959b82aac6a2928",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-east-2:549902048605:listener/app/jenkins-slave-alb/8035d439f98bf03a/0959b82aac6a2928",
                            "default_action.#": "1",
                            "default_action.0.authenticate_cognito.#": "0",
                            "default_action.0.authenticate_oidc.#": "0",
                            "default_action.0.fixed_response.#": "0",
                            "default_action.0.order": "1",
                            "default_action.0.redirect.#": "0",
                            "default_action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-2:549902048605:targetgroup/jenkins-slave-8080/3c4c158c4b85bd95",
                            "default_action.0.type": "forward",
                            "id": "arn:aws:elasticloadbalancing:us-east-2:549902048605:listener/app/jenkins-slave-alb/8035d439f98bf03a/0959b82aac6a2928",
                            "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-2:549902048605:loadbalancer/app/jenkins-slave-alb/8035d439f98bf03a",
                            "port": "8080",
                            "protocol": "HTTP",
                            "ssl_policy": ""
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "read": 600000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_target_group.git-80": {
                    "type": "aws_lb_target_group",
                    "depends_on": [
                        "aws_vpc.default"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-2:549902048605:targetgroup/git-80/4b24d8caa9a69c1e",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-east-2:549902048605:targetgroup/git-80/4b24d8caa9a69c1e",
                            "arn_suffix": "targetgroup/git-80/4b24d8caa9a69c1e",
                            "deregistration_delay": "300",
                            "health_check.#": "1",
                            "health_check.0.healthy_threshold": "3",
                            "health_check.0.interval": "30",
                            "health_check.0.matcher": "200,302",
                            "health_check.0.path": "/",
                            "health_check.0.port": "traffic-port",
                            "health_check.0.protocol": "HTTP",
                            "health_check.0.timeout": "5",
                            "health_check.0.unhealthy_threshold": "3",
                            "id": "arn:aws:elasticloadbalancing:us-east-2:549902048605:targetgroup/git-80/4b24d8caa9a69c1e",
                            "name": "git-80",
                            "port": "80",
                            "protocol": "HTTP",
                            "proxy_protocol_v2": "false",
                            "slow_start": "0",
                            "stickiness.#": "1",
                            "stickiness.0.cookie_duration": "86400",
                            "stickiness.0.enabled": "false",
                            "stickiness.0.type": "lb_cookie",
                            "tags.%": "0",
                            "target_type": "instance",
                            "vpc_id": "vpc-0d6bd6e91234e3977"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_target_group.jenkins-8080": {
                    "type": "aws_lb_target_group",
                    "depends_on": [
                        "aws_vpc.default"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-2:549902048605:targetgroup/jenkins-8080/0913eea7eea2305a",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-east-2:549902048605:targetgroup/jenkins-8080/0913eea7eea2305a",
                            "arn_suffix": "targetgroup/jenkins-8080/0913eea7eea2305a",
                            "deregistration_delay": "300",
                            "health_check.#": "1",
                            "health_check.0.healthy_threshold": "3",
                            "health_check.0.interval": "30",
                            "health_check.0.matcher": "200,403",
                            "health_check.0.path": "/",
                            "health_check.0.port": "traffic-port",
                            "health_check.0.protocol": "HTTP",
                            "health_check.0.timeout": "5",
                            "health_check.0.unhealthy_threshold": "3",
                            "id": "arn:aws:elasticloadbalancing:us-east-2:549902048605:targetgroup/jenkins-8080/0913eea7eea2305a",
                            "name": "jenkins-8080",
                            "port": "8080",
                            "protocol": "HTTP",
                            "proxy_protocol_v2": "false",
                            "slow_start": "0",
                            "stickiness.#": "1",
                            "stickiness.0.cookie_duration": "86400",
                            "stickiness.0.enabled": "false",
                            "stickiness.0.type": "lb_cookie",
                            "tags.%": "0",
                            "target_type": "instance",
                            "vpc_id": "vpc-0d6bd6e91234e3977"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_target_group.jenkins-slave-8080": {
                    "type": "aws_lb_target_group",
                    "depends_on": [
                        "aws_vpc.default"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-2:549902048605:targetgroup/jenkins-slave-8080/3c4c158c4b85bd95",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-east-2:549902048605:targetgroup/jenkins-slave-8080/3c4c158c4b85bd95",
                            "arn_suffix": "targetgroup/jenkins-slave-8080/3c4c158c4b85bd95",
                            "deregistration_delay": "300",
                            "health_check.#": "1",
                            "health_check.0.healthy_threshold": "3",
                            "health_check.0.interval": "30",
                            "health_check.0.matcher": "200,403",
                            "health_check.0.path": "/",
                            "health_check.0.port": "traffic-port",
                            "health_check.0.protocol": "HTTP",
                            "health_check.0.timeout": "5",
                            "health_check.0.unhealthy_threshold": "3",
                            "id": "arn:aws:elasticloadbalancing:us-east-2:549902048605:targetgroup/jenkins-slave-8080/3c4c158c4b85bd95",
                            "name": "jenkins-slave-8080",
                            "port": "8080",
                            "protocol": "HTTP",
                            "proxy_protocol_v2": "false",
                            "slow_start": "0",
                            "stickiness.#": "1",
                            "stickiness.0.cookie_duration": "86400",
                            "stickiness.0.enabled": "false",
                            "stickiness.0.type": "lb_cookie",
                            "tags.%": "0",
                            "target_type": "instance",
                            "vpc_id": "vpc-0d6bd6e91234e3977"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_target_group_attachment.jenkins-8080": {
                    "type": "aws_lb_target_group_attachment",
                    "depends_on": [
                        "aws_instance.jenkins",
                        "aws_lb_target_group.jenkins-8080"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-2:549902048605:targetgroup/jenkins-8080/0913eea7eea2305a-20181219132335666900000003",
                        "attributes": {
                            "id": "arn:aws:elasticloadbalancing:us-east-2:549902048605:targetgroup/jenkins-8080/0913eea7eea2305a-20181219132335666900000003",
                            "port": "8080",
                            "target_group_arn": "arn:aws:elasticloadbalancing:us-east-2:549902048605:targetgroup/jenkins-8080/0913eea7eea2305a",
                            "target_id": "i-0b4c8c97499fa62bc"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_nat_gateway.nat_gw1": {
                    "type": "aws_nat_gateway",
                    "depends_on": [
                        "aws_eip.eip_Nat",
                        "aws_internet_gateway.gw",
                        "aws_subnet.public-subnet"
                    ],
                    "primary": {
                        "id": "nat-0b58cc5f979e94e52",
                        "attributes": {
                            "allocation_id": "eipalloc-089507d1aac1a9722",
                            "id": "nat-0b58cc5f979e94e52",
                            "network_interface_id": "eni-0d8fbed04e53a911f",
                            "private_ip": "10.0.0.65",
                            "public_ip": "3.16.254.138",
                            "subnet_id": "subnet-04047072fe0f316d4",
                            "tags.%": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table.private-rt": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_nat_gateway.nat_gw1",
                        "aws_vpc.default"
                    ],
                    "primary": {
                        "id": "rtb-004a1f5ea694e4145",
                        "attributes": {
                            "id": "rtb-004a1f5ea694e4145",
                            "owner_id": "549902048605",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.2355340896.cidr_block": "0.0.0.0/0",
                            "route.2355340896.egress_only_gateway_id": "",
                            "route.2355340896.gateway_id": "",
                            "route.2355340896.instance_id": "",
                            "route.2355340896.ipv6_cidr_block": "",
                            "route.2355340896.nat_gateway_id": "nat-0b58cc5f979e94e52",
                            "route.2355340896.network_interface_id": "",
                            "route.2355340896.transit_gateway_id": "",
                            "route.2355340896.vpc_peering_connection_id": "",
                            "tags.%": "1",
                            "tags.Name": "Private Subnet RT",
                            "vpc_id": "vpc-0d6bd6e91234e3977"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table.public-rt": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_internet_gateway.gw",
                        "aws_vpc.default"
                    ],
                    "primary": {
                        "id": "rtb-04d7189e32cc0cc7d",
                        "attributes": {
                            "id": "rtb-04d7189e32cc0cc7d",
                            "owner_id": "549902048605",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.1667560103.cidr_block": "0.0.0.0/0",
                            "route.1667560103.egress_only_gateway_id": "",
                            "route.1667560103.gateway_id": "igw-0d5360e89f93caa80",
                            "route.1667560103.instance_id": "",
                            "route.1667560103.ipv6_cidr_block": "",
                            "route.1667560103.nat_gateway_id": "",
                            "route.1667560103.network_interface_id": "",
                            "route.1667560103.transit_gateway_id": "",
                            "route.1667560103.vpc_peering_connection_id": "",
                            "tags.%": "1",
                            "tags.Name": "Public Subnet RT",
                            "vpc_id": "vpc-0d6bd6e91234e3977"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table_association.private-rt1": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.private-rt",
                        "aws_subnet.private-subnet"
                    ],
                    "primary": {
                        "id": "rtbassoc-0f604cda74c9939ee",
                        "attributes": {
                            "id": "rtbassoc-0f604cda74c9939ee",
                            "route_table_id": "rtb-004a1f5ea694e4145",
                            "subnet_id": "subnet-0a7775a27c33ed754"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table_association.private-rt2": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.private-rt",
                        "aws_subnet.private-subnet2"
                    ],
                    "primary": {
                        "id": "rtbassoc-0ecb12aa941d404fa",
                        "attributes": {
                            "id": "rtbassoc-0ecb12aa941d404fa",
                            "route_table_id": "rtb-004a1f5ea694e4145",
                            "subnet_id": "subnet-06f4b17a982dfe532"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table_association.public-rt1": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.public-rt",
                        "aws_subnet.public-subnet"
                    ],
                    "primary": {
                        "id": "rtbassoc-0f901762f592508ac",
                        "attributes": {
                            "id": "rtbassoc-0f901762f592508ac",
                            "route_table_id": "rtb-04d7189e32cc0cc7d",
                            "subnet_id": "subnet-04047072fe0f316d4"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table_association.public-rt2": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.public-rt",
                        "aws_subnet.public-subnet2"
                    ],
                    "primary": {
                        "id": "rtbassoc-0542226cb597f56de",
                        "attributes": {
                            "id": "rtbassoc-0542226cb597f56de",
                            "route_table_id": "rtb-04d7189e32cc0cc7d",
                            "subnet_id": "subnet-0ece24f1519da9eda"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_security_group.efs-general": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_vpc.default"
                    ],
                    "primary": {
                        "id": "sg-0c4655d9a894a3af3",
                        "attributes": {
                            "arn": "arn:aws:ec2:us-east-2:549902048605:security-group/sg-0c4655d9a894a3af3",
                            "description": "Allow incoming NFS ports",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.description": "",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.ipv6_cidr_blocks.#": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-0c4655d9a894a3af3",
                            "ingress.#": "2",
                            "ingress.3329232486.cidr_blocks.#": "2",
                            "ingress.3329232486.cidr_blocks.0": "10.0.1.0/25",
                            "ingress.3329232486.cidr_blocks.1": "10.0.1.128/25",
                            "ingress.3329232486.description": "",
                            "ingress.3329232486.from_port": "2049",
                            "ingress.3329232486.ipv6_cidr_blocks.#": "0",
                            "ingress.3329232486.prefix_list_ids.#": "0",
                            "ingress.3329232486.protocol": "tcp",
                            "ingress.3329232486.security_groups.#": "0",
                            "ingress.3329232486.self": "false",
                            "ingress.3329232486.to_port": "2049",
                            "ingress.3901461386.cidr_blocks.#": "2",
                            "ingress.3901461386.cidr_blocks.0": "10.0.1.0/25",
                            "ingress.3901461386.cidr_blocks.1": "10.0.1.128/25",
                            "ingress.3901461386.description": "",
                            "ingress.3901461386.from_port": "-1",
                            "ingress.3901461386.ipv6_cidr_blocks.#": "0",
                            "ingress.3901461386.prefix_list_ids.#": "0",
                            "ingress.3901461386.protocol": "icmp",
                            "ingress.3901461386.security_groups.#": "0",
                            "ingress.3901461386.self": "false",
                            "ingress.3901461386.to_port": "-1",
                            "name": "sg_efs_general",
                            "owner_id": "549902048605",
                            "revoke_rules_on_delete": "false",
                            "tags.%": "1",
                            "tags.Name": "EFS SG",
                            "vpc_id": "vpc-0d6bd6e91234e3977"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_security_group.sg_db": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_vpc.default"
                    ],
                    "primary": {
                        "id": "sg-049cdabce76a1236d",
                        "attributes": {
                            "arn": "arn:aws:ec2:us-east-2:549902048605:security-group/sg-049cdabce76a1236d",
                            "description": "Allow traffic from public subnet",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.description": "",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.ipv6_cidr_blocks.#": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-049cdabce76a1236d",
                            "ingress.#": "4",
                            "ingress.1309507496.cidr_blocks.#": "1",
                            "ingress.1309507496.cidr_blocks.0": "10.0.1.128/25",
                            "ingress.1309507496.description": "",
                            "ingress.1309507496.from_port": "-1",
                            "ingress.1309507496.ipv6_cidr_blocks.#": "0",
                            "ingress.1309507496.prefix_list_ids.#": "0",
                            "ingress.1309507496.protocol": "icmp",
                            "ingress.1309507496.security_groups.#": "0",
                            "ingress.1309507496.self": "false",
                            "ingress.1309507496.to_port": "-1",
                            "ingress.1782943270.cidr_blocks.#": "1",
                            "ingress.1782943270.cidr_blocks.0": "10.0.1.0/25",
                            "ingress.1782943270.description": "",
                            "ingress.1782943270.from_port": "5432",
                            "ingress.1782943270.ipv6_cidr_blocks.#": "0",
                            "ingress.1782943270.prefix_list_ids.#": "0",
                            "ingress.1782943270.protocol": "tcp",
                            "ingress.1782943270.security_groups.#": "0",
                            "ingress.1782943270.self": "false",
                            "ingress.1782943270.to_port": "5432",
                            "ingress.2163364444.cidr_blocks.#": "1",
                            "ingress.2163364444.cidr_blocks.0": "10.0.1.0/25",
                            "ingress.2163364444.description": "",
                            "ingress.2163364444.from_port": "-1",
                            "ingress.2163364444.ipv6_cidr_blocks.#": "0",
                            "ingress.2163364444.prefix_list_ids.#": "0",
                            "ingress.2163364444.protocol": "icmp",
                            "ingress.2163364444.security_groups.#": "0",
                            "ingress.2163364444.self": "false",
                            "ingress.2163364444.to_port": "-1",
                            "ingress.347642524.cidr_blocks.#": "1",
                            "ingress.347642524.cidr_blocks.0": "10.0.1.128/25",
                            "ingress.347642524.description": "",
                            "ingress.347642524.from_port": "5432",
                            "ingress.347642524.ipv6_cidr_blocks.#": "0",
                            "ingress.347642524.prefix_list_ids.#": "0",
                            "ingress.347642524.protocol": "tcp",
                            "ingress.347642524.security_groups.#": "0",
                            "ingress.347642524.self": "false",
                            "ingress.347642524.to_port": "5432",
                            "name": "sg_db",
                            "owner_id": "549902048605",
                            "revoke_rules_on_delete": "false",
                            "tags.%": "1",
                            "tags.Name": "DB_SG",
                            "vpc_id": "vpc-0d6bd6e91234e3977"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_security_group.sg_git": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_vpc.default"
                    ],
                    "primary": {
                        "id": "sg-01b96411b8ea4ff98",
                        "attributes": {
                            "arn": "arn:aws:ec2:us-east-2:549902048605:security-group/sg-01b96411b8ea4ff98",
                            "description": "Allow traffic from public subnet",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.description": "",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.ipv6_cidr_blocks.#": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-01b96411b8ea4ff98",
                            "ingress.#": "5",
                            "ingress.1576785827.cidr_blocks.#": "5",
                            "ingress.1576785827.cidr_blocks.0": "10.0.1.0/25",
                            "ingress.1576785827.cidr_blocks.1": "10.0.1.128/25",
                            "ingress.1576785827.cidr_blocks.2": "10.0.0.0/25",
                            "ingress.1576785827.cidr_blocks.3": "10.0.0.128/25",
                            "ingress.1576785827.cidr_blocks.4": "173.172.103.202/32",
                            "ingress.1576785827.description": "",
                            "ingress.1576785827.from_port": "7990",
                            "ingress.1576785827.ipv6_cidr_blocks.#": "0",
                            "ingress.1576785827.prefix_list_ids.#": "0",
                            "ingress.1576785827.protocol": "tcp",
                            "ingress.1576785827.security_groups.#": "0",
                            "ingress.1576785827.self": "false",
                            "ingress.1576785827.to_port": "7990",
                            "ingress.1602626600.cidr_blocks.#": "5",
                            "ingress.1602626600.cidr_blocks.0": "10.0.1.0/25",
                            "ingress.1602626600.cidr_blocks.1": "10.0.1.128/25",
                            "ingress.1602626600.cidr_blocks.2": "10.0.0.0/25",
                            "ingress.1602626600.cidr_blocks.3": "10.0.0.128/25",
                            "ingress.1602626600.cidr_blocks.4": "173.172.103.202/32",
                            "ingress.1602626600.description": "",
                            "ingress.1602626600.from_port": "80",
                            "ingress.1602626600.ipv6_cidr_blocks.#": "0",
                            "ingress.1602626600.prefix_list_ids.#": "0",
                            "ingress.1602626600.protocol": "tcp",
                            "ingress.1602626600.security_groups.#": "0",
                            "ingress.1602626600.self": "false",
                            "ingress.1602626600.to_port": "80",
                            "ingress.2631861413.cidr_blocks.#": "1",
                            "ingress.2631861413.cidr_blocks.0": "10.0.0.128/25",
                            "ingress.2631861413.description": "",
                            "ingress.2631861413.from_port": "22",
                            "ingress.2631861413.ipv6_cidr_blocks.#": "0",
                            "ingress.2631861413.prefix_list_ids.#": "0",
                            "ingress.2631861413.protocol": "tcp",
                            "ingress.2631861413.security_groups.#": "0",
                            "ingress.2631861413.self": "false",
                            "ingress.2631861413.to_port": "22",
                            "ingress.518895600.cidr_blocks.#": "1",
                            "ingress.518895600.cidr_blocks.0": "10.0.0.0/25",
                            "ingress.518895600.description": "",
                            "ingress.518895600.from_port": "22",
                            "ingress.518895600.ipv6_cidr_blocks.#": "0",
                            "ingress.518895600.prefix_list_ids.#": "0",
                            "ingress.518895600.protocol": "tcp",
                            "ingress.518895600.security_groups.#": "0",
                            "ingress.518895600.self": "false",
                            "ingress.518895600.to_port": "22",
                            "ingress.798399694.cidr_blocks.#": "5",
                            "ingress.798399694.cidr_blocks.0": "10.0.1.0/25",
                            "ingress.798399694.cidr_blocks.1": "10.0.1.128/25",
                            "ingress.798399694.cidr_blocks.2": "10.0.0.0/25",
                            "ingress.798399694.cidr_blocks.3": "10.0.0.128/25",
                            "ingress.798399694.cidr_blocks.4": "173.172.103.202/32",
                            "ingress.798399694.description": "",
                            "ingress.798399694.from_port": "-1",
                            "ingress.798399694.ipv6_cidr_blocks.#": "0",
                            "ingress.798399694.prefix_list_ids.#": "0",
                            "ingress.798399694.protocol": "icmp",
                            "ingress.798399694.security_groups.#": "0",
                            "ingress.798399694.self": "false",
                            "ingress.798399694.to_port": "-1",
                            "name": "sg_git",
                            "owner_id": "549902048605",
                            "revoke_rules_on_delete": "false",
                            "tags.%": "1",
                            "tags.Name": "GIT_SG",
                            "vpc_id": "vpc-0d6bd6e91234e3977"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_security_group.sg_jenkins": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_vpc.default"
                    ],
                    "primary": {
                        "id": "sg-018e814cf8d5d1be4",
                        "attributes": {
                            "arn": "arn:aws:ec2:us-east-2:549902048605:security-group/sg-018e814cf8d5d1be4",
                            "description": "Allow traffic from public subnet",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.description": "",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.ipv6_cidr_blocks.#": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-018e814cf8d5d1be4",
                            "ingress.#": "4",
                            "ingress.1203501372.cidr_blocks.#": "5",
                            "ingress.1203501372.cidr_blocks.0": "10.0.1.0/25",
                            "ingress.1203501372.cidr_blocks.1": "10.0.1.128/25",
                            "ingress.1203501372.cidr_blocks.2": "10.0.0.0/25",
                            "ingress.1203501372.cidr_blocks.3": "10.0.0.128/25",
                            "ingress.1203501372.cidr_blocks.4": "173.172.103.202/32",
                            "ingress.1203501372.description": "",
                            "ingress.1203501372.from_port": "8080",
                            "ingress.1203501372.ipv6_cidr_blocks.#": "0",
                            "ingress.1203501372.prefix_list_ids.#": "0",
                            "ingress.1203501372.protocol": "tcp",
                            "ingress.1203501372.security_groups.#": "0",
                            "ingress.1203501372.self": "false",
                            "ingress.1203501372.to_port": "8080",
                            "ingress.2631861413.cidr_blocks.#": "1",
                            "ingress.2631861413.cidr_blocks.0": "10.0.0.128/25",
                            "ingress.2631861413.description": "",
                            "ingress.2631861413.from_port": "22",
                            "ingress.2631861413.ipv6_cidr_blocks.#": "0",
                            "ingress.2631861413.prefix_list_ids.#": "0",
                            "ingress.2631861413.protocol": "tcp",
                            "ingress.2631861413.security_groups.#": "0",
                            "ingress.2631861413.self": "false",
                            "ingress.2631861413.to_port": "22",
                            "ingress.518895600.cidr_blocks.#": "1",
                            "ingress.518895600.cidr_blocks.0": "10.0.0.0/25",
                            "ingress.518895600.description": "",
                            "ingress.518895600.from_port": "22",
                            "ingress.518895600.ipv6_cidr_blocks.#": "0",
                            "ingress.518895600.prefix_list_ids.#": "0",
                            "ingress.518895600.protocol": "tcp",
                            "ingress.518895600.security_groups.#": "0",
                            "ingress.518895600.self": "false",
                            "ingress.518895600.to_port": "22",
                            "ingress.798399694.cidr_blocks.#": "5",
                            "ingress.798399694.cidr_blocks.0": "10.0.1.0/25",
                            "ingress.798399694.cidr_blocks.1": "10.0.1.128/25",
                            "ingress.798399694.cidr_blocks.2": "10.0.0.0/25",
                            "ingress.798399694.cidr_blocks.3": "10.0.0.128/25",
                            "ingress.798399694.cidr_blocks.4": "173.172.103.202/32",
                            "ingress.798399694.description": "",
                            "ingress.798399694.from_port": "-1",
                            "ingress.798399694.ipv6_cidr_blocks.#": "0",
                            "ingress.798399694.prefix_list_ids.#": "0",
                            "ingress.798399694.protocol": "icmp",
                            "ingress.798399694.security_groups.#": "0",
                            "ingress.798399694.self": "false",
                            "ingress.798399694.to_port": "-1",
                            "name": "sg_jenkins",
                            "owner_id": "549902048605",
                            "revoke_rules_on_delete": "false",
                            "tags.%": "1",
                            "tags.Name": "Jenkins_SG",
                            "vpc_id": "vpc-0d6bd6e91234e3977"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_security_group.sg_redis": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_vpc.default"
                    ],
                    "primary": {
                        "id": "sg-00d9a6d87840a2987",
                        "attributes": {
                            "arn": "arn:aws:ec2:us-east-2:549902048605:security-group/sg-00d9a6d87840a2987",
                            "description": "Allow traffic from private subnet",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.description": "",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.ipv6_cidr_blocks.#": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-00d9a6d87840a2987",
                            "ingress.#": "4",
                            "ingress.1309507496.cidr_blocks.#": "1",
                            "ingress.1309507496.cidr_blocks.0": "10.0.1.128/25",
                            "ingress.1309507496.description": "",
                            "ingress.1309507496.from_port": "-1",
                            "ingress.1309507496.ipv6_cidr_blocks.#": "0",
                            "ingress.1309507496.prefix_list_ids.#": "0",
                            "ingress.1309507496.protocol": "icmp",
                            "ingress.1309507496.security_groups.#": "0",
                            "ingress.1309507496.self": "false",
                            "ingress.1309507496.to_port": "-1",
                            "ingress.1799600072.cidr_blocks.#": "1",
                            "ingress.1799600072.cidr_blocks.0": "10.0.1.0/25",
                            "ingress.1799600072.description": "",
                            "ingress.1799600072.from_port": "6379",
                            "ingress.1799600072.ipv6_cidr_blocks.#": "0",
                            "ingress.1799600072.prefix_list_ids.#": "0",
                            "ingress.1799600072.protocol": "tcp",
                            "ingress.1799600072.security_groups.#": "0",
                            "ingress.1799600072.self": "false",
                            "ingress.1799600072.to_port": "6379",
                            "ingress.2163364444.cidr_blocks.#": "1",
                            "ingress.2163364444.cidr_blocks.0": "10.0.1.0/25",
                            "ingress.2163364444.description": "",
                            "ingress.2163364444.from_port": "-1",
                            "ingress.2163364444.ipv6_cidr_blocks.#": "0",
                            "ingress.2163364444.prefix_list_ids.#": "0",
                            "ingress.2163364444.protocol": "icmp",
                            "ingress.2163364444.security_groups.#": "0",
                            "ingress.2163364444.self": "false",
                            "ingress.2163364444.to_port": "-1",
                            "ingress.2336280048.cidr_blocks.#": "1",
                            "ingress.2336280048.cidr_blocks.0": "10.0.1.128/25",
                            "ingress.2336280048.description": "",
                            "ingress.2336280048.from_port": "6379",
                            "ingress.2336280048.ipv6_cidr_blocks.#": "0",
                            "ingress.2336280048.prefix_list_ids.#": "0",
                            "ingress.2336280048.protocol": "tcp",
                            "ingress.2336280048.security_groups.#": "0",
                            "ingress.2336280048.self": "false",
                            "ingress.2336280048.to_port": "6379",
                            "name": "sg_redis",
                            "owner_id": "549902048605",
                            "revoke_rules_on_delete": "false",
                            "tags.%": "1",
                            "tags.Name": "Redis_SG",
                            "vpc_id": "vpc-0d6bd6e91234e3977"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_security_group.sgbastion": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_vpc.default"
                    ],
                    "primary": {
                        "id": "sg-0ad5904123588de21",
                        "attributes": {
                            "arn": "arn:aws:ec2:us-east-2:549902048605:security-group/sg-0ad5904123588de21",
                            "description": "Allow incoming SSH access and ping",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.description": "",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.ipv6_cidr_blocks.#": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-0ad5904123588de21",
                            "ingress.#": "2",
                            "ingress.1971223506.cidr_blocks.#": "1",
                            "ingress.1971223506.cidr_blocks.0": "173.172.103.202/32",
                            "ingress.1971223506.description": "",
                            "ingress.1971223506.from_port": "-1",
                            "ingress.1971223506.ipv6_cidr_blocks.#": "0",
                            "ingress.1971223506.prefix_list_ids.#": "0",
                            "ingress.1971223506.protocol": "icmp",
                            "ingress.1971223506.security_groups.#": "0",
                            "ingress.1971223506.self": "false",
                            "ingress.1971223506.to_port": "-1",
                            "ingress.2447130443.cidr_blocks.#": "1",
                            "ingress.2447130443.cidr_blocks.0": "173.172.103.202/32",
                            "ingress.2447130443.description": "",
                            "ingress.2447130443.from_port": "22",
                            "ingress.2447130443.ipv6_cidr_blocks.#": "0",
                            "ingress.2447130443.prefix_list_ids.#": "0",
                            "ingress.2447130443.protocol": "tcp",
                            "ingress.2447130443.security_groups.#": "0",
                            "ingress.2447130443.self": "false",
                            "ingress.2447130443.to_port": "22",
                            "name": "sg_bastion",
                            "owner_id": "549902048605",
                            "revoke_rules_on_delete": "false",
                            "tags.%": "1",
                            "tags.Name": "Bastion SG",
                            "vpc_id": "vpc-0d6bd6e91234e3977"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_subnet.private-db-subnet": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.default"
                    ],
                    "primary": {
                        "id": "subnet-057c9645859b6ac7a",
                        "attributes": {
                            "arn": "arn:aws:ec2:us-east-2:549902048605:subnet/subnet-057c9645859b6ac7a",
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-2a",
                            "availability_zone_id": "use2-az1",
                            "cidr_block": "10.0.2.0/25",
                            "id": "subnet-057c9645859b6ac7a",
                            "ipv6_cidr_block": "",
                            "ipv6_cidr_block_association_id": "",
                            "map_public_ip_on_launch": "false",
                            "owner_id": "549902048605",
                            "tags.%": "1",
                            "tags.Name": "Database Private Subnet 1",
                            "vpc_id": "vpc-0d6bd6e91234e3977"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_subnet.private-db-subnet2": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.default"
                    ],
                    "primary": {
                        "id": "subnet-07c90167d23d18ad2",
                        "attributes": {
                            "arn": "arn:aws:ec2:us-east-2:549902048605:subnet/subnet-07c90167d23d18ad2",
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-2b",
                            "availability_zone_id": "use2-az2",
                            "cidr_block": "10.0.2.128/25",
                            "id": "subnet-07c90167d23d18ad2",
                            "ipv6_cidr_block": "",
                            "ipv6_cidr_block_association_id": "",
                            "map_public_ip_on_launch": "false",
                            "owner_id": "549902048605",
                            "tags.%": "1",
                            "tags.Name": "Database Private Subnet 2",
                            "vpc_id": "vpc-0d6bd6e91234e3977"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_subnet.private-subnet": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.default"
                    ],
                    "primary": {
                        "id": "subnet-0a7775a27c33ed754",
                        "attributes": {
                            "arn": "arn:aws:ec2:us-east-2:549902048605:subnet/subnet-0a7775a27c33ed754",
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-2a",
                            "availability_zone_id": "use2-az1",
                            "cidr_block": "10.0.1.0/25",
                            "id": "subnet-0a7775a27c33ed754",
                            "ipv6_cidr_block": "",
                            "ipv6_cidr_block_association_id": "",
                            "map_public_ip_on_launch": "false",
                            "owner_id": "549902048605",
                            "tags.%": "1",
                            "tags.Name": "App Private Subnet 1",
                            "vpc_id": "vpc-0d6bd6e91234e3977"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_subnet.private-subnet2": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.default"
                    ],
                    "primary": {
                        "id": "subnet-06f4b17a982dfe532",
                        "attributes": {
                            "arn": "arn:aws:ec2:us-east-2:549902048605:subnet/subnet-06f4b17a982dfe532",
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-2b",
                            "availability_zone_id": "use2-az2",
                            "cidr_block": "10.0.1.128/25",
                            "id": "subnet-06f4b17a982dfe532",
                            "ipv6_cidr_block": "",
                            "ipv6_cidr_block_association_id": "",
                            "map_public_ip_on_launch": "false",
                            "owner_id": "549902048605",
                            "tags.%": "1",
                            "tags.Name": "App Private Subnet 2",
                            "vpc_id": "vpc-0d6bd6e91234e3977"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_subnet.public-subnet": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.default"
                    ],
                    "primary": {
                        "id": "subnet-04047072fe0f316d4",
                        "attributes": {
                            "arn": "arn:aws:ec2:us-east-2:549902048605:subnet/subnet-04047072fe0f316d4",
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-2a",
                            "availability_zone_id": "use2-az1",
                            "cidr_block": "10.0.0.0/25",
                            "id": "subnet-04047072fe0f316d4",
                            "ipv6_cidr_block": "",
                            "ipv6_cidr_block_association_id": "",
                            "map_public_ip_on_launch": "false",
                            "owner_id": "549902048605",
                            "tags.%": "1",
                            "tags.Name": "Web Public Subnet 1",
                            "vpc_id": "vpc-0d6bd6e91234e3977"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_subnet.public-subnet2": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.default"
                    ],
                    "primary": {
                        "id": "subnet-0ece24f1519da9eda",
                        "attributes": {
                            "arn": "arn:aws:ec2:us-east-2:549902048605:subnet/subnet-0ece24f1519da9eda",
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-2b",
                            "availability_zone_id": "use2-az2",
                            "cidr_block": "10.0.0.128/25",
                            "id": "subnet-0ece24f1519da9eda",
                            "ipv6_cidr_block": "",
                            "ipv6_cidr_block_association_id": "",
                            "map_public_ip_on_launch": "false",
                            "owner_id": "549902048605",
                            "tags.%": "1",
                            "tags.Name": "Web Public Subnet 2",
                            "vpc_id": "vpc-0d6bd6e91234e3977"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_vpc.default": {
                    "type": "aws_vpc",
                    "depends_on": [],
                    "primary": {
                        "id": "vpc-0d6bd6e91234e3977",
                        "attributes": {
                            "arn": "arn:aws:ec2:us-east-2:549902048605:vpc/vpc-0d6bd6e91234e3977",
                            "assign_generated_ipv6_cidr_block": "false",
                            "cidr_block": "10.0.0.0/16",
                            "default_network_acl_id": "acl-05a0ecdc529f1454c",
                            "default_route_table_id": "rtb-07822c438cf6ac945",
                            "default_security_group_id": "sg-076eb13ed96af5ddd",
                            "dhcp_options_id": "dopt-f933d692",
                            "enable_dns_hostnames": "true",
                            "enable_dns_support": "true",
                            "id": "vpc-0d6bd6e91234e3977",
                            "instance_tenancy": "default",
                            "ipv6_association_id": "",
                            "ipv6_cidr_block": "",
                            "main_route_table_id": "rtb-07822c438cf6ac945",
                            "owner_id": "549902048605",
                            "tags.%": "1",
                            "tags.Name": "DevOps POC VPC"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_ami.amzn": {
                    "type": "aws_ami",
                    "depends_on": [],
                    "primary": {
                        "id": "ami-02e680c4540db351e",
                        "attributes": {
                            "architecture": "x86_64",
                            "block_device_mappings.#": "1",
                            "block_device_mappings.340275815.device_name": "/dev/xvda",
                            "block_device_mappings.340275815.ebs.%": "6",
                            "block_device_mappings.340275815.ebs.delete_on_termination": "true",
                            "block_device_mappings.340275815.ebs.encrypted": "false",
                            "block_device_mappings.340275815.ebs.iops": "0",
                            "block_device_mappings.340275815.ebs.snapshot_id": "snap-00525f7708ba0b6dc",
                            "block_device_mappings.340275815.ebs.volume_size": "8",
                            "block_device_mappings.340275815.ebs.volume_type": "gp2",
                            "block_device_mappings.340275815.no_device": "",
                            "block_device_mappings.340275815.virtual_name": "",
                            "creation_date": "2018-11-14T09:06:55.000Z",
                            "description": "Amazon Linux 2 AMI 2.0.20181114 x86_64 HVM gp2",
                            "filter.#": "1",
                            "filter.3325118623.name": "name",
                            "filter.3325118623.values.#": "1",
                            "filter.3325118623.values.0": "amzn2-ami-hvm-2.0.*-x86_64-gp2",
                            "hypervisor": "xen",
                            "id": "ami-02e680c4540db351e",
                            "image_id": "ami-02e680c4540db351e",
                            "image_location": "amazon/amzn2-ami-hvm-2.0.20181114-x86_64-gp2",
                            "image_owner_alias": "amazon",
                            "image_type": "machine",
                            "most_recent": "true",
                            "name": "amzn2-ami-hvm-2.0.20181114-x86_64-gp2",
                            "owner_id": "137112412989",
                            "product_codes.#": "0",
                            "public": "true",
                            "root_device_name": "/dev/xvda",
                            "root_device_type": "ebs",
                            "root_snapshot_id": "snap-00525f7708ba0b6dc",
                            "sriov_net_support": "simple",
                            "state": "available",
                            "state_reason.%": "2",
                            "state_reason.code": "UNSET",
                            "state_reason.message": "UNSET",
                            "tags.%": "0",
                            "virtualization_type": "hvm"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_ami.rhel": {
                    "type": "aws_ami",
                    "depends_on": [],
                    "primary": {
                        "id": "ami-03291866",
                        "attributes": {
                            "architecture": "x86_64",
                            "block_device_mappings.#": "1",
                            "block_device_mappings.309099847.device_name": "/dev/sda1",
                            "block_device_mappings.309099847.ebs.%": "6",
                            "block_device_mappings.309099847.ebs.delete_on_termination": "true",
                            "block_device_mappings.309099847.ebs.encrypted": "false",
                            "block_device_mappings.309099847.ebs.iops": "0",
                            "block_device_mappings.309099847.ebs.snapshot_id": "snap-0cf126c0e00af0cb4",
                            "block_device_mappings.309099847.ebs.volume_size": "10",
                            "block_device_mappings.309099847.ebs.volume_type": "gp2",
                            "block_device_mappings.309099847.no_device": "",
                            "block_device_mappings.309099847.virtual_name": "",
                            "creation_date": "2018-03-23T20:40:52.000Z",
                            "description": "Provided by Red Hat, Inc.",
                            "filter.#": "1",
                            "filter.3123460170.name": "name",
                            "filter.3123460170.values.#": "1",
                            "filter.3123460170.values.0": "RHEL-7.5_HVM_GA*",
                            "hypervisor": "xen",
                            "id": "ami-03291866",
                            "image_id": "ami-03291866",
                            "image_location": "309956199498/RHEL-7.5_HVM_GA-20180322-x86_64-1-Hourly2-GP2",
                            "image_type": "machine",
                            "most_recent": "true",
                            "name": "RHEL-7.5_HVM_GA-20180322-x86_64-1-Hourly2-GP2",
                            "owner_id": "309956199498",
                            "product_codes.#": "0",
                            "public": "true",
                            "root_device_name": "/dev/sda1",
                            "root_device_type": "ebs",
                            "root_snapshot_id": "snap-0cf126c0e00af0cb4",
                            "sriov_net_support": "simple",
                            "state": "available",
                            "state_reason.%": "2",
                            "state_reason.code": "UNSET",
                            "state_reason.message": "UNSET",
                            "tags.%": "0",
                            "virtualization_type": "hvm"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_iam_policy.ec2-readonly-policy": {
                    "type": "aws_iam_policy",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:iam::aws:policy/ReadOnlyAccess",
                        "attributes": {
                            "arn": "arn:aws:iam::aws:policy/ReadOnlyAccess",
                            "description": "Provides read-only access to AWS services and resources.",
                            "id": "arn:aws:iam::aws:policy/ReadOnlyAccess",
                            "name": "ReadOnlyAccess",
                            "path": "/",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"a4b:Get*\",\n        \"a4b:List*\",\n        \"a4b:Describe*\",\n        \"a4b:Search*\",\n        \"acm:Describe*\",\n        \"acm:Get*\",\n        \"acm:List*\",\n        \"apigateway:GET\",\n        \"application-autoscaling:Describe*\",\n        \"autoscaling-plans:Describe*\",\n        \"appstream:Describe*\",\n        \"appstream:Get*\",\n        \"appstream:List*\",\n        \"athena:List*\",\n        \"athena:Batch*\",\n        \"athena:Get*\",\n        \"autoscaling:Describe*\",\n        \"batch:List*\",\n        \"batch:Describe*\",\n        \"cloud9:Describe*\",\n        \"cloud9:List*\",\n        \"clouddirectory:List*\",\n        \"clouddirectory:BatchRead\",\n        \"clouddirectory:Get*\",\n        \"clouddirectory:LookupPolicy\",\n        \"cloudformation:Describe*\",\n        \"cloudformation:Get*\",\n        \"cloudformation:List*\",\n        \"cloudformation:Estimate*\",\n        \"cloudformation:Preview*\",\n        \"cloudfront:Get*\",\n        \"cloudfront:List*\",\n        \"cloudhsm:List*\",\n        \"cloudhsm:Describe*\",\n        \"cloudhsm:Get*\",\n        \"cloudsearch:Describe*\",\n        \"cloudsearch:List*\",\n        \"cloudtrail:Describe*\",\n        \"cloudtrail:Get*\",\n        \"cloudtrail:List*\",\n        \"cloudtrail:LookupEvents\",\n        \"cloudwatch:Describe*\",\n        \"cloudwatch:Get*\",\n        \"cloudwatch:List*\",\n        \"codebuild:BatchGet*\",\n        \"codebuild:List*\",\n        \"codecommit:BatchGet*\",\n        \"codecommit:Describe*\",\n        \"codecommit:Get*\",\n        \"codecommit:GitPull\",\n        \"codecommit:List*\",\n        \"codedeploy:BatchGet*\",\n        \"codedeploy:Get*\",\n        \"codedeploy:List*\",\n        \"codepipeline:List*\",\n        \"codepipeline:Get*\",\n        \"codestar:List*\",\n        \"codestar:Describe*\",\n        \"codestar:Get*\",\n        \"codestar:Verify*\",\n        \"cognito-identity:List*\",\n        \"cognito-identity:Describe*\",\n        \"cognito-identity:Lookup*\",\n        \"cognito-sync:List*\",\n        \"cognito-sync:Describe*\",\n        \"cognito-sync:Get*\",\n        \"cognito-sync:QueryRecords\",\n        \"cognito-idp:AdminGet*\",\n        \"cognito-idp:AdminList*\",\n        \"cognito-idp:List*\",\n        \"cognito-idp:Describe*\",\n        \"cognito-idp:Get*\",\n        \"config:Deliver*\",\n        \"config:Describe*\",\n        \"config:Get*\",\n        \"config:List*\",\n        \"connect:List*\",\n        \"connect:Describe*\",\n        \"connect:GetFederationToken\",\n        \"datapipeline:Describe*\",\n        \"datapipeline:EvaluateExpression\",\n        \"datapipeline:Get*\",\n        \"datapipeline:List*\",\n        \"datapipeline:QueryObjects\",\n        \"datapipeline:Validate*\",\n        \"dax:BatchGetItem\",\n        \"dax:Describe*\",\n        \"dax:GetItem\",\n        \"dax:ListTags\",\n        \"dax:Query\",\n        \"dax:Scan\",\n        \"directconnect:Describe*\",\n        \"devicefarm:List*\",\n        \"devicefarm:Get*\",\n        \"discovery:Describe*\",\n        \"discovery:List*\",\n        \"discovery:Get*\",\n        \"dlm:Get*\",\n        \"dms:Describe*\",\n        \"dms:List*\",\n        \"dms:Test*\",\n        \"ds:Check*\",\n        \"ds:Describe*\",\n        \"ds:Get*\",\n        \"ds:List*\",\n        \"ds:Verify*\",\n        \"dynamodb:BatchGet*\",\n        \"dynamodb:Describe*\",\n        \"dynamodb:Get*\",\n        \"dynamodb:List*\",\n        \"dynamodb:Query\",\n        \"dynamodb:Scan\",\n        \"ec2:Describe*\",\n        \"ec2:Get*\",\n        \"ec2messages:Get*\",\n        \"ecr:BatchCheck*\",\n        \"ecr:BatchGet*\",\n        \"ecr:Describe*\",\n        \"ecr:Get*\",\n        \"ecr:List*\",\n        \"ecs:Describe*\",\n        \"ecs:List*\",\n        \"eks:DescribeCluster\",\n        \"eks:ListClusters\",\n        \"elasticache:Describe*\",\n        \"elasticache:List*\",\n        \"elasticbeanstalk:Check*\",\n        \"elasticbeanstalk:Describe*\",\n        \"elasticbeanstalk:List*\",\n        \"elasticbeanstalk:Request*\",\n        \"elasticbeanstalk:Retrieve*\",\n        \"elasticbeanstalk:Validate*\",\n        \"elasticfilesystem:Describe*\",\n        \"elasticloadbalancing:Describe*\",\n        \"elasticmapreduce:Describe*\",\n        \"elasticmapreduce:List*\",\n        \"elasticmapreduce:View*\",\n        \"elastictranscoder:List*\",\n        \"elastictranscoder:Read*\",\n        \"es:Describe*\",\n        \"es:List*\",\n        \"es:Get*\",\n        \"es:ESHttpGet\",\n        \"es:ESHttpHead\",\n        \"events:Describe*\",\n        \"events:List*\",\n        \"events:Test*\",\n        \"firehose:Describe*\",\n        \"firehose:List*\",\n        \"gamelift:List*\",\n        \"gamelift:Get*\",\n        \"gamelift:Describe*\",\n        \"gamelift:RequestUploadCredentials\",\n        \"gamelift:ResolveAlias\",\n        \"gamelift:Search*\",\n        \"glacier:List*\",\n        \"glacier:Describe*\",\n        \"glacier:Get*\",\n        \"greengrass:Get*\",\n        \"greengrass:List*\",\n        \"guardduty:Get*\",\n        \"guardduty:List*\",\n        \"health:Describe*\",\n        \"health:Get*\",\n        \"health:List*\",\n        \"iam:Generate*\",\n        \"iam:Get*\",\n        \"iam:List*\",\n        \"iam:Simulate*\",\n        \"importexport:Get*\",\n        \"importexport:List*\",\n        \"inspector:Describe*\",\n        \"inspector:Get*\",\n        \"inspector:List*\",\n        \"inspector:Preview*\",\n        \"inspector:LocalizeText\",\n        \"iot:Describe*\",\n        \"iot:Get*\",\n        \"iot:List*\",\n        \"iotanalytics:Describe*\",\n        \"iotanalytics:List*\",\n        \"iotanalytics:Get*\",\n        \"iotanalytics:SampleChannelData\",\n        \"kinesisanalytics:Describe*\",\n        \"kinesisanalytics:Discover*\",\n        \"kinesisanalytics:Get*\",\n        \"kinesisanalytics:List*\",\n        \"kinesisvideo:Describe*\",\n        \"kinesisvideo:Get*\",\n        \"kinesisvideo:List*\",\n        \"kinesis:Describe*\",\n        \"kinesis:Get*\",\n        \"kinesis:List*\",\n        \"kms:Describe*\",\n        \"kms:Get*\",\n        \"kms:List*\",\n        \"lambda:List*\",\n        \"lambda:Get*\",\n        \"lex:Get*\",\n        \"lightsail:Get*\",\n        \"lightsail:Is*\",\n        \"lightsail:Download*\",\n        \"logs:Describe*\",\n        \"logs:Get*\",\n        \"logs:FilterLogEvents\",\n        \"logs:ListTagsLogGroup\",\n        \"logs:TestMetricFilter\",\n        \"machinelearning:Describe*\",\n        \"machinelearning:Get*\",\n        \"mobileanalytics:Get*\",\n        \"mobilehub:Describe*\",\n        \"mobilehub:Export*\",\n        \"mobilehub:Generate*\",\n        \"mobilehub:Get*\",\n        \"mobilehub:List*\",\n        \"mobilehub:Validate*\",\n        \"mobilehub:Verify*\",\n        \"mobiletargeting:Get*\",\n        \"mq:Describe*\",\n        \"mq:List*\",\n        \"opsworks:Describe*\",\n        \"opsworks:Get*\",\n        \"opsworks-cm:Describe*\",\n        \"organizations:Describe*\",\n        \"organizations:List*\",\n        \"pi:DescribeDimensionKeys\",\n        \"pi:GetResourceMetrics\",\n        \"polly:Describe*\",\n        \"polly:Get*\",\n        \"polly:List*\",\n        \"polly:SynthesizeSpeech\",\n        \"rekognition:CompareFaces\",\n        \"rekognition:Detect*\",\n        \"rekognition:List*\",\n        \"rekognition:Search*\",\n        \"rds:Describe*\",\n        \"rds:List*\",\n        \"rds:Download*\",\n        \"redshift:Describe*\",\n        \"redshift:GetReservedNodeExchangeOfferings\",\n        \"redshift:View*\",\n        \"resource-groups:Describe*\",\n        \"resource-groups:Get*\",\n        \"resource-groups:List*\",\n        \"resource-groups:Search*\",\n        \"route53:Get*\",\n        \"route53:List*\",\n        \"route53:Test*\",\n        \"route53domains:Check*\",\n        \"route53domains:Get*\",\n        \"route53domains:List*\",\n        \"route53domains:View*\",\n        \"s3:Get*\",\n        \"s3:List*\",\n        \"s3:Head*\",\n        \"sagemaker:Describe*\",\n        \"sagemaker:List*\",\n        \"sdb:Get*\",\n        \"sdb:List*\",\n        \"sdb:Select*\",\n        \"secretsmanager:List*\",\n        \"secretsmanager:Describe*\",\n        \"secretsmanager:GetResourcePolicy\",\n        \"serverlessrepo:List*\",\n        \"serverlessrepo:Get*\",\n        \"serverlessrepo:SearchApplications\",\n        \"servicecatalog:List*\",\n        \"servicecatalog:Scan*\",\n        \"servicecatalog:Search*\",\n        \"servicecatalog:Describe*\",\n        \"servicediscovery:Get*\",\n        \"servicediscovery:List*\",\n        \"ses:Get*\",\n        \"ses:List*\",\n        \"ses:Describe*\",\n        \"shield:Describe*\",\n        \"shield:List*\",\n        \"snowball:Get*\",\n        \"snowball:Describe*\",\n        \"snowball:List*\",\n        \"sns:Get*\",\n        \"sns:List*\",\n        \"sns:Check*\",\n        \"sqs:Get*\",\n        \"sqs:List*\",\n        \"sqs:Receive*\",\n        \"ssm:Describe*\",\n        \"ssm:Get*\",\n        \"ssm:List*\",\n        \"states:List*\",\n        \"states:Describe*\",\n        \"states:GetExecutionHistory\",\n        \"storagegateway:Describe*\",\n        \"storagegateway:List*\",\n        \"sts:Get*\",\n        \"swf:Count*\",\n        \"swf:Describe*\",\n        \"swf:Get*\",\n        \"swf:List*\",\n        \"tag:Get*\",\n        \"trustedadvisor:Describe*\",\n        \"waf:Get*\",\n        \"waf:List*\",\n        \"waf-regional:List*\",\n        \"waf-regional:Get*\",\n        \"workdocs:Describe*\",\n        \"workdocs:Get*\",\n        \"workdocs:CheckAlias\",\n        \"workmail:Describe*\",\n        \"workmail:Get*\",\n        \"workmail:List*\",\n        \"workmail:Search*\",\n        \"workspaces:Describe*\",\n        \"xray:BatchGet*\",\n        \"xray:Get*\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.template_cloudinit_config.config": {
                    "type": "template_cloudinit_config",
                    "depends_on": [
                        "data.template_file.gitlab_application_user_data",
                        "data.template_file.shell-script"
                    ],
                    "primary": {
                        "id": "2700243027",
                        "attributes": {
                            "base64_encode": "false",
                            "gzip": "false",
                            "id": "2700243027",
                            "part.#": "2",
                            "part.0.content": "#cloud-config\r\nwrite_files:\r\n  - content: |\r\n      # Prevent GitLab from starting if NFS data mounts are not available\r\n      high_availability['mountpoint'] = ['/var/opt/gitlab/git-data', '/var/opt/gitlab/.ssh', '/var/opt/gitlab/gitlab-rails/uploads', '/var/opt/gitlab/gitlab-rails/shared', '/var/opt/gitlab/gitlab-ci/builds']\r\n\r\n      # Disabe built-in postgres and redis\r\n      postgresql['enable'] = false\r\n      redis['enable'] = false\r\n\r\n      # External postgres settings\r\n      gitlab_rails['db_adapter'] = \"postgresql\"\r\n      gitlab_rails['db_encoding'] = \"unicode\"\r\n      gitlab_rails['db_database'] = \"gitlab\"\r\n      gitlab_rails['db_username'] = \"gitlab\"\r\n      gitlab_rails['db_password'] = \"supersecret\"\r\n      gitlab_rails['db_host'] = \"gitlab.cfd9xauwm5fs.us-east-2.rds.amazonaws.com\"\r\n      gitlab_rails['db_port'] = 5432\r\n      gitlab_rails['auto_migrate'] = false\r\n\r\n      # External redis settings\r\n      gitlab_rails['redis_host'] = \"gitlab.e9ty4i.ng.0001.use2.cache.amazonaws.com\"\r\n      gitlab_rails['redis_port'] = 6379\r\n\r\n      # Ensure UIDs and GIDs match between servers for permissions via NFS\r\n      user['uid'] = 9000\r\n      user['gid'] = 9000\r\n      web_server['uid'] = 9001\r\n      web_server['gid'] = 9001\r\n      registry['uid'] = 9002\r\n      registry['gid'] = 9002\r\n\r\n      # Whitelist VPC cidr for access to health checks\r\n      gitlab_rails['monitoring_whitelist'] = ['10.0.0.0/16']\r\n    path: /etc/gitlab/gitlab.rb\r\n    permissions: '0600'\r\nruncmd:\r\n  - [ gitlab-ctl, reconfigure ]\r\noutput: {all: '| tee -a /var/log/devops-cloud-init-output.log'}\r\n",
                            "part.0.content_type": "text/cloud-config",
                            "part.0.filename": "gitlab_application_user_data.tpl",
                            "part.0.merge_type": "",
                            "part.1.content": "#!/bin/bash\r\n\r\n# Create Internal EBS Data Drive\r\n/sbin/mkfs.xfs /dev/nvme1n1\r\nmkdir /data1\r\n/bin/mount /dev/nvme1n1 /data1\r\necho /dev/nvme1n1  /data1 xfs defaults,nofail 0 2 \u003e\u003e /etc/fstab\r\n\r\n# Install Common Tools\r\nsudo yum -y install tcpdump telnet bind-utils zip unzip tcpdump telnet bind-utils wget -y\r\ncurl \"https://s3.amazonaws.com/aws-cli/awscli-bundle.zip\" -o \"awscli-bundle.zip\"\r\nunzip awscli-bundle.zip\r\nsudo ./awscli-bundle/install -i /usr/local/aws -b /usr/local/bin/aws\r\n\r\n# Create GitLab Repo\r\ncurl -s https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | sudo bash\r\nsudo yum install pygpgme yum-utils\r\n\r\n# Mount EFS Filesystem \r\nAZ=`curl -s http://169.254.169.254/latest/meta-data/placement/availability-zone`                                      \r\nREGION=`curl -s http://169.254.169.254/latest/meta-data/placement/availability-zone | sed 's/\\(.*\\)[a-z]/\\1/'`        \r\nGITLAB_DIR=\"/var/opt/gitlab\"                                                                                                \r\nEFS_FSID_SSH=`/usr/local/bin/aws --region us-east-2 --output text efs describe-file-systems |grep git-ssh|awk '{print $5}'`\r\nEFS_FSID_UPLOADS=`/usr/local/bin/aws --region us-east-2 --output text efs describe-file-systems |grep git-rails-uploads|awk '{print $5}'`\r\nEFS_FSID_SHARED=`/usr/local/bin/aws --region us-east-2 --output text efs describe-file-systems |grep git-rails-shared|awk '{print $5}'`\r\nEFS_FSID_BUILDS=`/usr/local/bin/aws --region us-east-2 --output text efs describe-file-systems |grep git-builds|awk '{print $5}'`\r\nEFS_FSID_DATA=`/usr/local/bin/aws --region us-east-2 --output text efs describe-file-systems |grep git-data|awk '{print $5}'`\r\nEFS_PATH_SSH=\"$AZ.$EFS_FSID_SSH.efs.$REGION.amazonaws.com\"                                                                    \r\nEFS_PATH_UPLOADS=\"$AZ.$EFS_FSID_UPLOADS.efs.$REGION.amazonaws.com\"                                                                    \r\nEFS_PATH_SHARED=\"$AZ.$EFS_FSID_SHARED.efs.$REGION.amazonaws.com\"                                                                    \r\nEFS_PATH_BUILDS=\"$AZ.$EFS_FSID_BUILDS.efs.$REGION.amazonaws.com\"                                                                    \r\nEFS_PATH_DATA=\"$AZ.$EFS_FSID_DATA.efs.$REGION.amazonaws.com\"                                                                    \r\nmkdir -p $GITLAB_DIR/.ssh $GITLAB_DIR/gitlab-rails/uploads $GITLAB_DIR/gitlab-rails/shared $GITLAB_DIR/gitlab-ci/builds $GITLAB_DIR/git-data \r\ncat \u003e\u003e /etc/fstab \u003c\u003c EOF\r\n$EFS_PATH_SSH:/ $GITLAB_DIR/.ssh nfs nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport,_netdev  0 0\r\n$EFS_PATH_UPLOADS:/ $GITLAB_DIR/gitlab-rails/uploads nfs nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport,_netdev  0 0\r\n$EFS_PATH_SHARED:/ $GITLAB_DIR/gitlab-rails/shared nfs nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport,_netdev  0 0\r\n$EFS_PATH_BUILDS:/ $GITLAB_DIR/gitlab-ci/builds nfs nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport,_netdev  0 0\r\n$EFS_PATH_DATA:/ $GITLAB_DIR/git-data nfs nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport,_netdev  0 0\r\nEOF\r\n\r\nmount -a\r\n\r\nURL=`aws elbv2 --region=us-east-2 --output=text describe-load-balancers |grep private-apps |awk '{print $4}'`; export URL\r\nEXTERNAL_URL=\"http://$URL\"; export EXTERNAL_URL\r\nyum install -y gitlab-ce\r\nsudo yum install -y git\r\nsudo yum install postfix\r\nsudo systemctl enable postfix\r\nsudo systemctl start postfix\r\n#Database Initialization - Run Once Manually after deployment\r\n#force=yes; export force\r\n#gitlab-rake gitlab:setup\r\n\r\n# Install OS Patches\r\nsudo yum update -y\r\n",
                            "part.1.content_type": "text/x-shellscript",
                            "part.1.filename": "",
                            "part.1.merge_type": "",
                            "rendered": "Content-Type: multipart/mixed; boundary=\"MIMEBOUNDARY\"\nMIME-Version: 1.0\r\n\r\n--MIMEBOUNDARY\r\nContent-Disposition: attachment; filename=\"gitlab_application_user_data.tpl\"\r\nContent-Transfer-Encoding: 7bit\r\nContent-Type: text/cloud-config\r\nMime-Version: 1.0\r\n\r\n#cloud-config\r\nwrite_files:\r\n  - content: |\r\n      # Prevent GitLab from starting if NFS data mounts are not available\r\n      high_availability['mountpoint'] = ['/var/opt/gitlab/git-data', '/var/opt/gitlab/.ssh', '/var/opt/gitlab/gitlab-rails/uploads', '/var/opt/gitlab/gitlab-rails/shared', '/var/opt/gitlab/gitlab-ci/builds']\r\n\r\n      # Disabe built-in postgres and redis\r\n      postgresql['enable'] = false\r\n      redis['enable'] = false\r\n\r\n      # External postgres settings\r\n      gitlab_rails['db_adapter'] = \"postgresql\"\r\n      gitlab_rails['db_encoding'] = \"unicode\"\r\n      gitlab_rails['db_database'] = \"gitlab\"\r\n      gitlab_rails['db_username'] = \"gitlab\"\r\n      gitlab_rails['db_password'] = \"supersecret\"\r\n      gitlab_rails['db_host'] = \"gitlab.cfd9xauwm5fs.us-east-2.rds.amazonaws.com\"\r\n      gitlab_rails['db_port'] = 5432\r\n      gitlab_rails['auto_migrate'] = false\r\n\r\n      # External redis settings\r\n      gitlab_rails['redis_host'] = \"gitlab.e9ty4i.ng.0001.use2.cache.amazonaws.com\"\r\n      gitlab_rails['redis_port'] = 6379\r\n\r\n      # Ensure UIDs and GIDs match between servers for permissions via NFS\r\n      user['uid'] = 9000\r\n      user['gid'] = 9000\r\n      web_server['uid'] = 9001\r\n      web_server['gid'] = 9001\r\n      registry['uid'] = 9002\r\n      registry['gid'] = 9002\r\n\r\n      # Whitelist VPC cidr for access to health checks\r\n      gitlab_rails['monitoring_whitelist'] = ['10.0.0.0/16']\r\n    path: /etc/gitlab/gitlab.rb\r\n    permissions: '0600'\r\nruncmd:\r\n  - [ gitlab-ctl, reconfigure ]\r\noutput: {all: '| tee -a /var/log/devops-cloud-init-output.log'}\r\n\r\n--MIMEBOUNDARY\r\nContent-Transfer-Encoding: 7bit\r\nContent-Type: text/x-shellscript\r\nMime-Version: 1.0\r\n\r\n#!/bin/bash\r\n\r\n# Create Internal EBS Data Drive\r\n/sbin/mkfs.xfs /dev/nvme1n1\r\nmkdir /data1\r\n/bin/mount /dev/nvme1n1 /data1\r\necho /dev/nvme1n1  /data1 xfs defaults,nofail 0 2 \u003e\u003e /etc/fstab\r\n\r\n# Install Common Tools\r\nsudo yum -y install tcpdump telnet bind-utils zip unzip tcpdump telnet bind-utils wget -y\r\ncurl \"https://s3.amazonaws.com/aws-cli/awscli-bundle.zip\" -o \"awscli-bundle.zip\"\r\nunzip awscli-bundle.zip\r\nsudo ./awscli-bundle/install -i /usr/local/aws -b /usr/local/bin/aws\r\n\r\n# Create GitLab Repo\r\ncurl -s https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | sudo bash\r\nsudo yum install pygpgme yum-utils\r\n\r\n# Mount EFS Filesystem \r\nAZ=`curl -s http://169.254.169.254/latest/meta-data/placement/availability-zone`                                      \r\nREGION=`curl -s http://169.254.169.254/latest/meta-data/placement/availability-zone | sed 's/\\(.*\\)[a-z]/\\1/'`        \r\nGITLAB_DIR=\"/var/opt/gitlab\"                                                                                                \r\nEFS_FSID_SSH=`/usr/local/bin/aws --region us-east-2 --output text efs describe-file-systems |grep git-ssh|awk '{print $5}'`\r\nEFS_FSID_UPLOADS=`/usr/local/bin/aws --region us-east-2 --output text efs describe-file-systems |grep git-rails-uploads|awk '{print $5}'`\r\nEFS_FSID_SHARED=`/usr/local/bin/aws --region us-east-2 --output text efs describe-file-systems |grep git-rails-shared|awk '{print $5}'`\r\nEFS_FSID_BUILDS=`/usr/local/bin/aws --region us-east-2 --output text efs describe-file-systems |grep git-builds|awk '{print $5}'`\r\nEFS_FSID_DATA=`/usr/local/bin/aws --region us-east-2 --output text efs describe-file-systems |grep git-data|awk '{print $5}'`\r\nEFS_PATH_SSH=\"$AZ.$EFS_FSID_SSH.efs.$REGION.amazonaws.com\"                                                                    \r\nEFS_PATH_UPLOADS=\"$AZ.$EFS_FSID_UPLOADS.efs.$REGION.amazonaws.com\"                                                                    \r\nEFS_PATH_SHARED=\"$AZ.$EFS_FSID_SHARED.efs.$REGION.amazonaws.com\"                                                                    \r\nEFS_PATH_BUILDS=\"$AZ.$EFS_FSID_BUILDS.efs.$REGION.amazonaws.com\"                                                                    \r\nEFS_PATH_DATA=\"$AZ.$EFS_FSID_DATA.efs.$REGION.amazonaws.com\"                                                                    \r\nmkdir -p $GITLAB_DIR/.ssh $GITLAB_DIR/gitlab-rails/uploads $GITLAB_DIR/gitlab-rails/shared $GITLAB_DIR/gitlab-ci/builds $GITLAB_DIR/git-data \r\ncat \u003e\u003e /etc/fstab \u003c\u003c EOF\r\n$EFS_PATH_SSH:/ $GITLAB_DIR/.ssh nfs nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport,_netdev  0 0\r\n$EFS_PATH_UPLOADS:/ $GITLAB_DIR/gitlab-rails/uploads nfs nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport,_netdev  0 0\r\n$EFS_PATH_SHARED:/ $GITLAB_DIR/gitlab-rails/shared nfs nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport,_netdev  0 0\r\n$EFS_PATH_BUILDS:/ $GITLAB_DIR/gitlab-ci/builds nfs nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport,_netdev  0 0\r\n$EFS_PATH_DATA:/ $GITLAB_DIR/git-data nfs nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport,_netdev  0 0\r\nEOF\r\n\r\nmount -a\r\n\r\nURL=`aws elbv2 --region=us-east-2 --output=text describe-load-balancers |grep private-apps |awk '{print $4}'`; export URL\r\nEXTERNAL_URL=\"http://$URL\"; export EXTERNAL_URL\r\nyum install -y gitlab-ce\r\nsudo yum install -y git\r\nsudo yum install postfix\r\nsudo systemctl enable postfix\r\nsudo systemctl start postfix\r\n#Database Initialization - Run Once Manually after deployment\r\n#force=yes; export force\r\n#gitlab-rake gitlab:setup\r\n\r\n# Install OS Patches\r\nsudo yum update -y\r\n\r\n--MIMEBOUNDARY--\r\n"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.gitlab_application_user_data": {
                    "type": "template_file",
                    "depends_on": [
                        "aws_db_instance.gitlab_postgres",
                        "aws_elasticache_replication_group.gitlab_redis"
                    ],
                    "primary": {
                        "id": "70fd08640198a2c82ddf0b32c92107751eacd2047dc74d8f6e110f8cb7e86068",
                        "attributes": {
                            "id": "70fd08640198a2c82ddf0b32c92107751eacd2047dc74d8f6e110f8cb7e86068",
                            "rendered": "#cloud-config\r\nwrite_files:\r\n  - content: |\r\n      # Prevent GitLab from starting if NFS data mounts are not available\r\n      high_availability['mountpoint'] = ['/var/opt/gitlab/git-data', '/var/opt/gitlab/.ssh', '/var/opt/gitlab/gitlab-rails/uploads', '/var/opt/gitlab/gitlab-rails/shared', '/var/opt/gitlab/gitlab-ci/builds']\r\n\r\n      # Disabe built-in postgres and redis\r\n      postgresql['enable'] = false\r\n      redis['enable'] = false\r\n\r\n      # External postgres settings\r\n      gitlab_rails['db_adapter'] = \"postgresql\"\r\n      gitlab_rails['db_encoding'] = \"unicode\"\r\n      gitlab_rails['db_database'] = \"gitlab\"\r\n      gitlab_rails['db_username'] = \"gitlab\"\r\n      gitlab_rails['db_password'] = \"supersecret\"\r\n      gitlab_rails['db_host'] = \"gitlab.cfd9xauwm5fs.us-east-2.rds.amazonaws.com\"\r\n      gitlab_rails['db_port'] = 5432\r\n      gitlab_rails['auto_migrate'] = false\r\n\r\n      # External redis settings\r\n      gitlab_rails['redis_host'] = \"gitlab.e9ty4i.ng.0001.use2.cache.amazonaws.com\"\r\n      gitlab_rails['redis_port'] = 6379\r\n\r\n      # Ensure UIDs and GIDs match between servers for permissions via NFS\r\n      user['uid'] = 9000\r\n      user['gid'] = 9000\r\n      web_server['uid'] = 9001\r\n      web_server['gid'] = 9001\r\n      registry['uid'] = 9002\r\n      registry['gid'] = 9002\r\n\r\n      # Whitelist VPC cidr for access to health checks\r\n      gitlab_rails['monitoring_whitelist'] = ['10.0.0.0/16']\r\n    path: /etc/gitlab/gitlab.rb\r\n    permissions: '0600'\r\nruncmd:\r\n  - [ gitlab-ctl, reconfigure ]\r\noutput: {all: '| tee -a /var/log/devops-cloud-init-output.log'}\r\n",
                            "template": "#cloud-config\r\nwrite_files:\r\n  - content: |\r\n      # Prevent GitLab from starting if NFS data mounts are not available\r\n      high_availability['mountpoint'] = ['/var/opt/gitlab/git-data', '/var/opt/gitlab/.ssh', '/var/opt/gitlab/gitlab-rails/uploads', '/var/opt/gitlab/gitlab-rails/shared', '/var/opt/gitlab/gitlab-ci/builds']\r\n\r\n      # Disabe built-in postgres and redis\r\n      postgresql['enable'] = false\r\n      redis['enable'] = false\r\n\r\n      # External postgres settings\r\n      gitlab_rails['db_adapter'] = \"postgresql\"\r\n      gitlab_rails['db_encoding'] = \"unicode\"\r\n      gitlab_rails['db_database'] = \"${postgres_database}\"\r\n      gitlab_rails['db_username'] = \"${postgres_username}\"\r\n      gitlab_rails['db_password'] = \"${postgres_password}\"\r\n      gitlab_rails['db_host'] = \"${postgres_endpoint}\"\r\n      gitlab_rails['db_port'] = 5432\r\n      gitlab_rails['auto_migrate'] = false\r\n\r\n      # External redis settings\r\n      gitlab_rails['redis_host'] = \"${redis_endpoint}\"\r\n      gitlab_rails['redis_port'] = 6379\r\n\r\n      # Ensure UIDs and GIDs match between servers for permissions via NFS\r\n      user['uid'] = 9000\r\n      user['gid'] = 9000\r\n      web_server['uid'] = 9001\r\n      web_server['gid'] = 9001\r\n      registry['uid'] = 9002\r\n      registry['gid'] = 9002\r\n\r\n      # Whitelist VPC cidr for access to health checks\r\n      gitlab_rails['monitoring_whitelist'] = ['${cidr}']\r\n    path: /etc/gitlab/gitlab.rb\r\n    permissions: '0600'\r\nruncmd:\r\n  - [ gitlab-ctl, reconfigure ]\r\noutput: {all: '| tee -a /var/log/devops-cloud-init-output.log'}\r\n",
                            "vars.%": "6",
                            "vars.cidr": "10.0.0.0/16",
                            "vars.postgres_database": "gitlab",
                            "vars.postgres_endpoint": "gitlab.cfd9xauwm5fs.us-east-2.rds.amazonaws.com",
                            "vars.postgres_password": "supersecret",
                            "vars.postgres_username": "gitlab",
                            "vars.redis_endpoint": "gitlab.e9ty4i.ng.0001.use2.cache.amazonaws.com"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.shell-script": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "4c0d60f3cd02d47ed2e1b173c8e861a4ccb9cdc0783ac80cf4131b5ce742d523",
                        "attributes": {
                            "id": "4c0d60f3cd02d47ed2e1b173c8e861a4ccb9cdc0783ac80cf4131b5ce742d523",
                            "rendered": "#!/bin/bash\r\n\r\n# Create Internal EBS Data Drive\r\n/sbin/mkfs.xfs /dev/nvme1n1\r\nmkdir /data1\r\n/bin/mount /dev/nvme1n1 /data1\r\necho /dev/nvme1n1  /data1 xfs defaults,nofail 0 2 \u003e\u003e /etc/fstab\r\n\r\n# Install Common Tools\r\nsudo yum -y install tcpdump telnet bind-utils zip unzip tcpdump telnet bind-utils wget -y\r\ncurl \"https://s3.amazonaws.com/aws-cli/awscli-bundle.zip\" -o \"awscli-bundle.zip\"\r\nunzip awscli-bundle.zip\r\nsudo ./awscli-bundle/install -i /usr/local/aws -b /usr/local/bin/aws\r\n\r\n# Create GitLab Repo\r\ncurl -s https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | sudo bash\r\nsudo yum install pygpgme yum-utils\r\n\r\n# Mount EFS Filesystem \r\nAZ=`curl -s http://169.254.169.254/latest/meta-data/placement/availability-zone`                                      \r\nREGION=`curl -s http://169.254.169.254/latest/meta-data/placement/availability-zone | sed 's/\\(.*\\)[a-z]/\\1/'`        \r\nGITLAB_DIR=\"/var/opt/gitlab\"                                                                                                \r\nEFS_FSID_SSH=`/usr/local/bin/aws --region us-east-2 --output text efs describe-file-systems |grep git-ssh|awk '{print $5}'`\r\nEFS_FSID_UPLOADS=`/usr/local/bin/aws --region us-east-2 --output text efs describe-file-systems |grep git-rails-uploads|awk '{print $5}'`\r\nEFS_FSID_SHARED=`/usr/local/bin/aws --region us-east-2 --output text efs describe-file-systems |grep git-rails-shared|awk '{print $5}'`\r\nEFS_FSID_BUILDS=`/usr/local/bin/aws --region us-east-2 --output text efs describe-file-systems |grep git-builds|awk '{print $5}'`\r\nEFS_FSID_DATA=`/usr/local/bin/aws --region us-east-2 --output text efs describe-file-systems |grep git-data|awk '{print $5}'`\r\nEFS_PATH_SSH=\"$AZ.$EFS_FSID_SSH.efs.$REGION.amazonaws.com\"                                                                    \r\nEFS_PATH_UPLOADS=\"$AZ.$EFS_FSID_UPLOADS.efs.$REGION.amazonaws.com\"                                                                    \r\nEFS_PATH_SHARED=\"$AZ.$EFS_FSID_SHARED.efs.$REGION.amazonaws.com\"                                                                    \r\nEFS_PATH_BUILDS=\"$AZ.$EFS_FSID_BUILDS.efs.$REGION.amazonaws.com\"                                                                    \r\nEFS_PATH_DATA=\"$AZ.$EFS_FSID_DATA.efs.$REGION.amazonaws.com\"                                                                    \r\nmkdir -p $GITLAB_DIR/.ssh $GITLAB_DIR/gitlab-rails/uploads $GITLAB_DIR/gitlab-rails/shared $GITLAB_DIR/gitlab-ci/builds $GITLAB_DIR/git-data \r\ncat \u003e\u003e /etc/fstab \u003c\u003c EOF\r\n$EFS_PATH_SSH:/ $GITLAB_DIR/.ssh nfs nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport,_netdev  0 0\r\n$EFS_PATH_UPLOADS:/ $GITLAB_DIR/gitlab-rails/uploads nfs nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport,_netdev  0 0\r\n$EFS_PATH_SHARED:/ $GITLAB_DIR/gitlab-rails/shared nfs nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport,_netdev  0 0\r\n$EFS_PATH_BUILDS:/ $GITLAB_DIR/gitlab-ci/builds nfs nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport,_netdev  0 0\r\n$EFS_PATH_DATA:/ $GITLAB_DIR/git-data nfs nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport,_netdev  0 0\r\nEOF\r\n\r\nmount -a\r\n\r\nURL=`aws elbv2 --region=us-east-2 --output=text describe-load-balancers |grep private-apps |awk '{print $4}'`; export URL\r\nEXTERNAL_URL=\"http://$URL\"; export EXTERNAL_URL\r\nyum install -y gitlab-ce\r\nsudo yum install -y git\r\nsudo yum install postfix\r\nsudo systemctl enable postfix\r\nsudo systemctl start postfix\r\n#Database Initialization - Run Once Manually after deployment\r\n#force=yes; export force\r\n#gitlab-rake gitlab:setup\r\n\r\n# Install OS Patches\r\nsudo yum update -y\r\n",
                            "template": "#!/bin/bash\r\n\r\n# Create Internal EBS Data Drive\r\n/sbin/mkfs.xfs /dev/nvme1n1\r\nmkdir /data1\r\n/bin/mount /dev/nvme1n1 /data1\r\necho /dev/nvme1n1  /data1 xfs defaults,nofail 0 2 \u003e\u003e /etc/fstab\r\n\r\n# Install Common Tools\r\nsudo yum -y install tcpdump telnet bind-utils zip unzip tcpdump telnet bind-utils wget -y\r\ncurl \"https://s3.amazonaws.com/aws-cli/awscli-bundle.zip\" -o \"awscli-bundle.zip\"\r\nunzip awscli-bundle.zip\r\nsudo ./awscli-bundle/install -i /usr/local/aws -b /usr/local/bin/aws\r\n\r\n# Create GitLab Repo\r\ncurl -s https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | sudo bash\r\nsudo yum install pygpgme yum-utils\r\n\r\n# Mount EFS Filesystem \r\nAZ=`curl -s http://169.254.169.254/latest/meta-data/placement/availability-zone`                                      \r\nREGION=`curl -s http://169.254.169.254/latest/meta-data/placement/availability-zone | sed 's/\\(.*\\)[a-z]/\\1/'`        \r\nGITLAB_DIR=\"/var/opt/gitlab\"                                                                                                \r\nEFS_FSID_SSH=`/usr/local/bin/aws --region us-east-2 --output text efs describe-file-systems |grep git-ssh|awk '{print $5}'`\r\nEFS_FSID_UPLOADS=`/usr/local/bin/aws --region us-east-2 --output text efs describe-file-systems |grep git-rails-uploads|awk '{print $5}'`\r\nEFS_FSID_SHARED=`/usr/local/bin/aws --region us-east-2 --output text efs describe-file-systems |grep git-rails-shared|awk '{print $5}'`\r\nEFS_FSID_BUILDS=`/usr/local/bin/aws --region us-east-2 --output text efs describe-file-systems |grep git-builds|awk '{print $5}'`\r\nEFS_FSID_DATA=`/usr/local/bin/aws --region us-east-2 --output text efs describe-file-systems |grep git-data|awk '{print $5}'`\r\nEFS_PATH_SSH=\"$AZ.$EFS_FSID_SSH.efs.$REGION.amazonaws.com\"                                                                    \r\nEFS_PATH_UPLOADS=\"$AZ.$EFS_FSID_UPLOADS.efs.$REGION.amazonaws.com\"                                                                    \r\nEFS_PATH_SHARED=\"$AZ.$EFS_FSID_SHARED.efs.$REGION.amazonaws.com\"                                                                    \r\nEFS_PATH_BUILDS=\"$AZ.$EFS_FSID_BUILDS.efs.$REGION.amazonaws.com\"                                                                    \r\nEFS_PATH_DATA=\"$AZ.$EFS_FSID_DATA.efs.$REGION.amazonaws.com\"                                                                    \r\nmkdir -p $GITLAB_DIR/.ssh $GITLAB_DIR/gitlab-rails/uploads $GITLAB_DIR/gitlab-rails/shared $GITLAB_DIR/gitlab-ci/builds $GITLAB_DIR/git-data \r\ncat \u003e\u003e /etc/fstab \u003c\u003c EOF\r\n$EFS_PATH_SSH:/ $GITLAB_DIR/.ssh nfs nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport,_netdev  0 0\r\n$EFS_PATH_UPLOADS:/ $GITLAB_DIR/gitlab-rails/uploads nfs nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport,_netdev  0 0\r\n$EFS_PATH_SHARED:/ $GITLAB_DIR/gitlab-rails/shared nfs nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport,_netdev  0 0\r\n$EFS_PATH_BUILDS:/ $GITLAB_DIR/gitlab-ci/builds nfs nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport,_netdev  0 0\r\n$EFS_PATH_DATA:/ $GITLAB_DIR/git-data nfs nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport,_netdev  0 0\r\nEOF\r\n\r\nmount -a\r\n\r\nURL=`aws elbv2 --region=us-east-2 --output=text describe-load-balancers |grep private-apps |awk '{print $4}'`; export URL\r\nEXTERNAL_URL=\"http://$URL\"; export EXTERNAL_URL\r\nyum install -y gitlab-ce\r\nsudo yum install -y git\r\nsudo yum install postfix\r\nsudo systemctl enable postfix\r\nsudo systemctl start postfix\r\n#Database Initialization - Run Once Manually after deployment\r\n#force=yes; export force\r\n#gitlab-rake gitlab:setup\r\n\r\n# Install OS Patches\r\nsudo yum update -y\r\n"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                }
            },
            "depends_on": []
        }
    ]
}
